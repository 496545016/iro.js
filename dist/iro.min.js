/*!
 * iro.js
 * ----------------
 * Author: James Daniel (github.com/jaames | rakujira.jp)
 * Last updated: Sat Oct 14 2017
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iro=e():t.iro=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.t?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/test",e(e.s=4)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=Math.round;t.exports=function(){function t(e){i(this,t),this.u=!1,this.f={h:void 0,s:void 0,v:void 0},e&&this.fromString(e)}return o(t,[{e:"fromString",_:function(t){/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t)}},{e:"watch",_:function(t,e){this.u=t,e&&this.forceUpdate()}},{e:"unwatch",_:function(){this.watch(!1)}},{e:"forceUpdate",_:function(){var t=this.f;this.u(t,t,{h:!0,s:!0,v:!0})}},{e:"hsv",get:function(){return this.f},set:function(t){var e={},n=this.f;for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r]),e[r]=t[r]!=n[r];this.f=t;var i=this.u;(e.h||e.s||e.v)&&"function"==typeof i&&i(t,n,e)}},{e:"rgb",get:function(){return t.hsvToRgb(this.f)},set:function(e){this.hsv=t.rgbToHsv(e)}},{e:"rgbString",get:function(){return t.rgbToString(this.rgb)},set:function(e){this.rgb=t.parseRgbString(e)}},{e:"hexString",get:function(){return t.rgbToHex(this.rgb)},set:function(e){this.rgb=t.parseHexString(e)}},{e:"hsl",get:function(){return t.hsvToHsl(this.f)},set:function(e){this.hsv=t.hslToHsv(e)}},{e:"hslString",get:function(){return t.hslToString(this.hsl)},set:function(e){this.hsl=t.parseRgbString(e)}}],[{e:"hsvToRgb",_:function(t){var e,n,r,i,o,a,u,c,l=t.h/360,f=t.s/100,h=t.v/100;switch(i=Math.floor(6*l),o=6*l-i,a=h*(1-f),u=h*(1-o*f),c=h*(1-(1-o)*f),i%6){case 0:e=h,n=c,r=a;break;case 1:e=u,n=h,r=a;break;case 2:e=a,n=h,r=c;break;case 3:e=a,n=u,r=h;break;case 4:e=c,n=a,r=h;break;case 5:e=h,n=a,r=u}return{r:s(255*e),g:s(255*n),b:s(255*r)}}},{e:"rgbToHsv",_:function(t){var e,n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),a=Math.min(n,r,i),u=o-a;switch(o){case a:e=0;break;case n:e=(r-i)/u+(r<i?6:0);break;case r:e=(i-n)/u+2;break;case i:e=(n-r)/u+4}return e/=6,{h:s(360*e),s:s(0===o?0:u/o*100),v:s(100*o)}}},{e:"rgbToString",_:function(t){return"rgb"+(t.a?"a":"")+"("+t.r+", "+t.g+", "+t.b+(t.a?", "+t.a:"")+")"}},{e:"parseRgbString",_:function(t){var e=t.match(/(rgba?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return{r:parseInt(e[2]),g:parseInt(e[3]),b:parseInt(e[4])}}},{e:"rgbToHex",_:function(t){r=t.r,g=t.g,b=t.b;var e=r%17==0&&g%17==0&&b%17==0,n=e?17:1,i=e?4:8,o=e?4:7,s=r/n<<2*i|g/n<<i|b/n,a=s.toString(16);return"#"+new Array(o-a.length).join("0")+a}},{e:"parseHexString",_:function(t){t=t.replace(/#/g,"");var e=parseInt("0x"+t),n=3==t.length,r=n?15:255,i=n?4:8,o=n?17:1;return{r:(e>>2*i&r)*o,g:(e>>i&r)*o,b:(e&r)*o}}},{e:"hsvToHsl",_:function(t){var e=t.s/100,n=t.v/100,r=(2-e)*n;return e=0==e?0:e*n/(r<1?r:2-r),{h:t.h,s:s(100*e),l:s(50*r)}}},{e:"hslToHsv",_:function(t){var e=t.s/100,n=t.l/100;return n*=2,e*=n<=1?n:2-n,{h:t.h,s:s(2*e/(n+e)*100),v:s((n+e)/2*100)}}},{e:"hslToString",_:function(t){return"hsl"+(t.a?"a":"")+"("+t.h+", "+t.s+"%, "+t.l+"%"+(t.a?", "+t.a:"")+")"}},{e:"parseHslString",_:function(t){var e=t.match(/(hsla?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return{h:parseInt(e[2]),s:parseInt(e[3]),l:parseInt(e[4])}}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();t.exports=function(){function t(){r(this,t);var e=document.createElement("style");document.head.appendChild(e),e.appendChild(document.createTextNode("")),this.style=e;var n=e.sheet;this.sheet=n,this.rules=n.rules||n.cssRules,this.map={}}return i(t,[{e:"setRule",_:function(t,e,n){var r=this.sheet,i=r.rules||r.cssRules,o=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),o.hasOwnProperty(t))o[t].setProperty(e,n);else{var s=i.length,a=e+": "+n;try{r.insertRule(t+" {"+a+";}",s)}catch(e){r.addRule(t,a,s)}finally{i=r.rules||r.cssRules,o[t]=i[s].style}}}},{e:"enabled",set:function(t){this.sheet.disabled=!t},get:function(){return!this.sheet.disabled}},{e:"css",get:function(){var t=this.map,e={};for(var n in t){var r=t[n];e[n]={};for(var i=0;i<r.length;i++){var o=r[i];e[n][o]=r.getPropertyValue(o)}}return e}},{e:"cssText",get:function(){var t=this.map,e=[];for(var n in t)e.push(n.replace(/,\W/g,",\n")+" {\n\t"+t[n].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=/msie|trident/.test(window.navigator.userAgent.toLowerCase()),s="iro__marker";t.exports=function(){function t(e,n){r(this,t);var i=e.g({k:s});i.T(0,0,n.r,{k:s+"__outer",fill:"none",M:5,S:"#000"}),i.T(0,0,n.r,{k:s+"__inner",fill:"none",M:2,S:"#fff"}),this.g=i}return i(t,[{e:"move",_:function(t,e){o?this.g.C({transform:"translate("+t+","+e+")"}):this.g.O("translate",[t,e])}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(7),a=r(s),u=n(5),c=r(u),l=n(8),f=r(l),h=n(6),v=r(h),p=n(0),d=r(p),g=n(1),y=r(g),b=!1;f.default.listen(document,["mousemove","touchmove"],function(t){b&&b.P(t)}),f.default.listen(document,["mouseup","touchend"],function(t){b&&(t.preventDefault(),b.emit("input:end"),b.j=!1,b=!1)}),t.exports=function(){function t(e,n){var r=this;i(this,t),n=n||{},this.R={},this.j=!1,this.u=!1,this.stylesheet=new y.default,this.css=n.css||n.styles||void 0,this.H=new d.default(n.H||"#fff"),f.default.whenReady(function(){r.I(e,n)})}return o(t,[{e:"watch",_:function(t,e){this.on("color:change",t),this.u=t,e&&t(this.H)}},{e:"unwatch",_:function(){this.off("color:change",this.u)}},{e:"on",_:function(t,e){var n=this.R;(n[t]||(n[t]=[])).push(e)}},{e:"off",_:function(t,e){var n=this.R[t];n&&evenList.splice(n.indexOf(e),1)}},{e:"emit",_:function(t,e){var n=this.R;(n[t]||[]).concat(n["*"]||[]).map(function(t){t(e)})}},{e:"_init",_:function(t,e){t="string"==typeof t?document.querySelector(t):t;var n=e.width||parseInt(t.width)||320,r=e.height||parseInt(t.height)||320,i=new v.default(t,n,r);this.el=t,this.svg=i;var o=e.padding+2||6,s=e.borderWidth||0,u=e.markerRadius||8,l=e.sliderMargin||24,h=e.sliderHeight||2*u+2*o+2*s,p=Math.min(r-h-l,n),d=p/2-s,g=(n-p)/2,y={r:u},b={w:s,H:e.borderColor||"#fff"};this.ui=[new a.default(i,{cX:g+p/2,cY:p/2,r:d,rMax:d-(u+o),marker:y,border:b}),new c.default(i,{sliderType:"v",x:g+s,y:p+l,w:p-2*s,h:h-2*s,r:h/2-s,marker:y,border:b})],this.H.watch(this.A.bind(this),!0),f.default.listen(i.el,["mousedown","touchstart"],this.D.bind(this))}},{e:"_getLocalPoint",_:function(t){var e=t.touches?t.changedTouches[0]:t,n=this.svg.el.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}},{e:"_handleInput",_:function(t,e){this.H.hsv=this.j.input(t,e)}},{e:"_mouseDown",_:function(t){var e=this,n=this.L(t),r=n.x,i=n.y;this.ui.forEach(function(n){n.checkHit(r,i)&&(t.preventDefault(),b=e,e.j=n,e.emit("input:start"),e.W(r,i))})}},{e:"_mouseMove",_:function(t){if(this==b){t.preventDefault();var e=this.L(t);this.W(e.x,e.y)}}},{e:"_update",_:function(t,e,n){var r=this.H,i=r.rgbString,o=this.css;this.ui.forEach(function(t){t.update(r,n)});for(var s in o){var a=o[s];for(var u in a)this.stylesheet.setRule(s,u,i)}this.emit("color:change",r)}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}var i=n(3),o=r(i),s=n(0),a=r(s),u=n(1),c=r(u);t.exports={Color:a.default,ColorPicker:o.default,Stylesheet:c.default}},function(t,e,n){"use strict";function r(t){return t&&t.t?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(2),a=r(s),u=n(0),c=r(u),l="iro__slider";t.exports=function(){function t(e,n){i(this,t);var r=n.r,o=n.w,s=n.h,u=n.x,c=n.y,f=n.border.w;n.range={min:u+r,max:u+o-r,w:o-2*r},n.sliderType=n.sliderType||"v",this.type="slider",this.X=n;var h=e.Y("linear",{0:{H:"#000"},100:{H:"#fff"}});this.G=h;var v=r+f/2,p=e.g({k:l});p.V("rect",{k:l+"__value",rx:v,ry:v,x:u-f/2,y:c-f/2,width:o+f,height:s+f,fill:h.url,M:f,S:n.border.H}),this.marker=new a.default(p,n.marker)}return o(t,[{e:"update",_:function(t,e){var n=this.X,r=n.range,i=t.hsv,o=c.default.hsvToHsl({h:i.h,s:i.s,v:100});if("v"==n.sliderType&&((e.h||e.s)&&this.G.stops[1].C({q:"hsl("+o.h+","+o.s+"%,"+o.l+"%)"}),e.v)){var s=i.v/100;this.marker.move(r.min+s*r.w,n.y+n.h/2)}}},{e:"input",_:function(t,e){var n=this.X,r=n.range,i=Math.max(Math.min(t,r.max),r.min)-r.min;return{v:Math.round(100/r.w*i)}}},{e:"checkHit",_:function(t,e){var n=this.X;return t>n.x&&t<n.x+n.w&&e>n.y&&e<n.y+n.h}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{_:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=Math.PI,u=Math.cos,c=Math.sin,l=0,f="http://www.w3.org/2000/svg",h={k:"class",S:"stroke",M:"stroke-width",fill:"fill",F:"opacity",N:"offset",q:"stop-color",U:"stop-opacity"},v={B:"setTranslate",Z:"setScale",z:"setRotate"},p=function(){function t(e,n,r,i){o(this,t);var s=document.createElementNS(f,r);this.el=s,this.C(i),(n.el||n).appendChild(s),this.J=e,this.K={},this.Q=!!s.transform&&s.transform.baseVal}return s(t,[{e:"insert",_:function(e,n){return new t(this.J,this,e,n)}},{e:"g",_:function(t){return this.V("g",t)}},{e:"arc",_:function(t,e,n,r,i,o){var s=i-r<=180?0:1;r*=a/180,i*=a/180;var l=t+n*u(i),f=e+n*c(i),h=t+n*u(r),v=e+n*c(r);return o=o||{},o.d=["M",l,f,"A",n,n,0,s,0,h,v].join(" "),this.V("path",o)}},{e:"circle",_:function(t,e,n,r){return r=r||{},r.cx=t,r.cy=e,r.r=n,this.V("circle",r)}},{e:"setTransform",_:function(t,e){var n,r,i=this.K;i[t]?n=i[t]:(n=this.J.el.createSVGTransform(),i[t]=n,this.Q.appendItem(n)),r=t in v?v[t]:t,n[r].apply(n,e)}},{e:"setAttrs",_:function(t){for(var e in t||{}){var n=e in h?h[e]:e;this.el.setAttribute(n,t[e])}}}]),t}(),d=function t(e,n,r){o(this,t);var i=[],s=e.$.V(n+"Gradient",{id:"iroGradient"+l++});for(var a in r){var u=r[a];i.push(s.V("stop",{N:a+"%",q:u.H,U:void 0===u.F?1:u.F}))}this.el=s.el,this.url="url(#"+s.el.id+")",this.stops=i};t.exports=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,t,"svg",{width:n,height:i,style:"display:block;overflow:hidden;"}));return s.J=s,s.$=s.V("defs"),s}return i(e,t),s(e,[{e:"gradient",_:function(t,e){return new d(this,t,e)}}]),e}(p)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.e,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2),s=function(t){return t&&t.t?t:{default:t}}(o),a="iro__wheel",u=Math.PI,c=Math.sqrt,l=Math.abs,f=Math.round;t.exports=function(){function t(e,n){r(this,t),this.X=n,this.type="wheel";var i=n.cY,o=n.cX,u=n.r,c=n.border,l=e.Y("radial",{0:{H:"#fff"},100:{H:"#fff",F:0}}),f=e.g({k:a});f.T(o,i,u+c.w/2,{k:a+"__border",fill:"#fff",S:c.H,M:c.w});for(var h=f.g({k:a+"__hue",M:u,fill:"none"}),v=0;v<360;v++)h.tt(o,i,u/2,v-.5,v+1.5,{S:"hsl("+v+",100%,50%)"});f.T(o,i,u,{k:a+"__saturation",fill:l.url}),this.et=f.T(o,i,u,{k:a+"__lightness"}),this.marker=new s.default(f,n.marker)}return i(t,[{e:"update",_:function(t,e){var n=this.X,r=t.hsv;if(e.v&&this.et.C({F:(1-r.v/100).toFixed(2)}),e.h||e.s){var i=r.h*(u/180),o=r.s/100*n.rMax;this.marker.move(n.cX+o*Math.cos(i),n.cY+o*Math.sin(i))}}},{e:"input",_:function(t,e){var n=this.X,r=n.rMax,i=n.cX-t,o=n.cY-e,s=Math.atan2(o,i),a=f(s*(180/u))+180,l=Math.min(c(i*i+o*o),r);return{h:a,s:f(100/r*l)}}},{e:"checkHit",_:function(t,e){var n=this.X,r=l(t-n.cX),i=l(e-n.cY);return c(r*r+i*i)<n.r}}]),t}()},function(t,e,n){"use strict";var r=document;t.exports={listen:function(t,e,n){for(var r=0;r<e.length;r++)t.addEventListener(e[r],n)},unlisten:function(t,e,n){for(var r=0;r<e.length;r++)t.removeEventListener(e[r],n)},whenReady:function(t){console.log(t);var e=this;"complete"==r.readyState?t():e.listen(r,["readystatechange"],function n(i){"complete"==r.readyState&&(t(),e.unlisten(r,["readystatechange"],n))})}}}])});