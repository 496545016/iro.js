/*!
 * iro.js
 * ----------------
 * Author: James Daniel (github.com/jaames | rakujira.jp)
 * Last updated: Wed Oct 04 2017
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iro=e():t.iro=e()}(this,function(){return function(t){function e(s){if(r[s])return r[s].exports;var n=r[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,s){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var r=t&&t.t?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/test",e(e.s=9)}([function(t,e,r){"use strict";var s=Math.round;t.exports={name:"rgb",e:function(t){var e,r,n,o,i,a,u,c,h=t.h/360,f=t.s/100,l=t.v/100;switch(o=Math.floor(6*h),i=6*h-o,a=l*(1-f),u=l*(1-i*f),c=l*(1-(1-i)*f),o%6){case 0:e=l,r=c,n=a;break;case 1:e=u,r=l,n=a;break;case 2:e=a,r=l,n=c;break;case 3:e=a,r=u,n=l;break;case 4:e=c,r=a,n=l;break;case 5:e=l,r=a,n=u}return{r:s(255*e),g:s(255*r),b:s(255*n)}},u:function(t){var e,r=t.r/255,n=t.g/255,o=t.b/255,i=Math.max(r,n,o),a=Math.min(r,n,o),u=i-a;switch(i){case a:e=0;break;case r:e=(n-o)/u+(n<o?6:0);break;case n:e=(o-r)/u+2;break;case o:e=(r-n)/u+4}return e/=6,{h:s(360*e),s:s(0===i?0:u/i*100),v:s(100*i)}}}},function(t,e,r){"use strict";function s(t){return t&&t.t?t:{default:t}}var n=r(3),o=s(n),i=r(0),a=s(i),u=r(4),c=s(u),h=r(8),f=s(h),l=r(7),d=s(l),v=[o.default,a.default,c.default,f.default,d.default],p=function t(e){var r=this;if(!(this instanceof t))return new t(e);this.f=!1,this._={h:void 0,s:void 0,v:void 0},this.register("hsv",{get:this.get,set:this.set}),v.forEach(function(t){r.register(t.name,{set:function(e){this.hsv=t.u(e)},get:function(){return t.e(this.hsv)}})}),e&&this.fromString(e)};p.prototype={register:function(t,e){Object.defineProperty(this,t,e)},watch:function(t,e){this.f=t,e&&this.forceUpdate()},unwatch:function(){this.watch(!1)},forceUpdate:function(){var t=this._;this.f(t,t,{h:!0,s:!0,v:!0})},set:function(t){var e={},r=this._;for(var s in r)t.hasOwnProperty(s)||(t[s]=r[s]),e[s]=t[s]!=r[s];this._=t;var n=this.f;(e.h||e.s||e.v)&&"function"==typeof n&&n(t,r,e)},get:function(){return this._},fromString:function(t){/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t)}},t.exports=p},function(t,e,r){"use strict";var s=function(t){var e=document.createElement("style");document.head.appendChild(e),e.appendChild(document.createTextNode("")),this.style=e;var r=e.sheet;this.sheet=r,this.rules=r.rules||r.cssRules,this.map={}};s.prototype={on:function(){this.enable()},enable:function(){this.sheet.disabled=!1},off:function(){this.disable()},disable:function(){this.sheet.disabled=!0},setRule:function(t,e,r){var s=this.sheet,n=s.rules||s.cssRules,o=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),o.hasOwnProperty(t))o[t].setProperty(e,r);else{var i=n.length,a=e+": "+r;try{s.insertRule(t+" {"+a+";}",i)}catch(e){s.addRule(t,a,i)}finally{n=s.rules||s.cssRules,o[t]=n[i].style}}},getCss:function(){var t=this.map,e={};for(var r in t){var s=t[r];e[r]={};for(var n=0;n<s.length;n++){var o=s[n];e[r][o]=s.getPropertyValue(o)}}return e},getCssText:function(){var t=this.map,e=[];for(var r in t)e.push(r.replace(/,\W/g,",\n")+" {\n\t"+t[r].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")}},t.exports=s},function(t,e,r){"use strict";var s=Math.round;t.exports={name:"hsl",e:function(t){var e=t.s/100,r=t.v/100,n=(2-e)*r;return e=0==e?0:e*r/(n<1?n:2-n),{h:t.h,s:s(100*e),l:s(50*n)}},u:function(t){var e=t.s/100,r=t.l/100;return r*=2,e*=r<=1?r:2-r,{h:t.h,s:s(2*e/(r+e)*100),v:s((r+e)/2*100)}}}},function(t,e,r){"use strict";var s=r(3),n=function(t){return t&&t.t?t:{default:t}}(s);t.exports={name:"hslString",e:function(t){var e=n.default.e(t);return"hsl"+(e.a?"a":"")+"("+e.h+", "+e.s+"%, "+e.l+"%"+(e.a?", "+e.a:"")+")"},u:function(t){var e=t.match(/(hsla?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return n.default.u({h:parseInt(e[2]),s:parseInt(e[3]),l:parseInt(e[4])})}}},function(t,e,r){"use strict";var s=/msie|trident/.test(window.navigator.userAgent.toLowerCase()),n=function(t,e){var r=t.g({k:"iro__marker"});r.M(0,0,e.r,{k:"iro__marker__outer",fill:"none",H:5,C:"#000"}),r.M(0,0,e.r,{k:"iro__marker__inner",fill:"none",H:2,C:"#fff"}),this.g=r};n.prototype={move:function(t,e){s?this.g.T({transform:"translate("+t+","+e+")"}):this.g.S("translate",[t,e])}},t.exports=n},function(t,e,r){"use strict";function s(t){return t&&t.t?t:{default:t}}var n=r(12),o=s(n),i=r(10),a=s(i),u=r(13),c=s(u),h=r(11),f=s(h),l=r(1),d=s(l),v=r(2),p=s(v),_=!1;c.default.I(document,["mousemove","touchmove"],function(t){_&&_.P(t)}),c.default.I(document,["mouseup","touchend"],function(t){_&&(t.preventDefault(),_.emit("input:end"),_.R=!1,_=!1)});var g=function t(e,r){if(!(this instanceof t))return new t(e,r);r=r||{},this.A={},this.R=!1,this.f=!1,this.stylesheet=new p.default,this.css=r.css||r.styles||void 0,this.D=new d.default(r.D||"#fff"),c.default.j(function(){e="string"==typeof e?document.querySelector(e):e;var t=r.width||parseInt(e.width)||320,s=r.height||parseInt(e.height)||320,n=new f.default(e,t,s);this.el=e,this.svg=n;var i=r.padding+2||6,u=r.borderWidth||0,h=r.markerRadius||8,l=r.sliderMargin||24,d=r.sliderHeight||2*h+2*i+2*u,v=Math.min(s-d-l,t),p=v/2-u,_=(t-v)/2,g={r:h},m={w:u,D:r.borderColor||"#fff"};this.ui=[new o.default(n,{cX:_+v/2,cY:v/2,r:p,rMax:p-(h+i),marker:g,border:m}),new a.default(n,{sliderType:"v",x:_+u,y:v+l,w:v-2*u,h:d-2*u,r:d/2-u,marker:g,border:m})],this.D.watch(this.L.bind(this),!0),c.default.I(n.el,["mousedown","touchstart"],this.O.bind(this))}.bind(this))};g.prototype={watch:function(t,e){this.on("color:change",t),this.f=t,e&&t(this.D)},unwatch:function(){this.off("color:change",this.f)},on:function(t,e){var r=this.A;(r[t]||(r[t]=[])).push(e)},off:function(t,e){var r=this.A[t];r&&evenList.splice(r.indexOf(e),1)},emit:function(t,e){var r=this.A;(r[t]||[]).concat(r["*"]||[]).map(function(t){t(e)})},W:function(t){var e=t.touches?t.changedTouches[0]:t,r=this.svg.el.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},X:function(t,e){this.D.set(this.R.input(t,e))},O:function(t){var e=this,r=this.W(t),s=r.x,n=r.y;this.ui.forEach(function(r){r.checkHit(s,n)&&(t.preventDefault(),_=e,e.R=r,e.emit("input:start"),e.X(s,n))})},P:function(t){if(this==_){t.preventDefault();var e=this.W(t);this.X(e.x,e.y)}},L:function(t,e,r){var s=this.D,n=s.rgbString,o=this.css;this.ui.forEach(function(t){t.update(s,r)});for(var i in o){var a=o[i];for(var u in a)this.stylesheet.setRule(i,u,n)}this.emit("color:change",s)}},t.exports=g},function(t,e,r){"use strict";var s=r(0),n=function(t){return t&&t.t?t:{default:t}}(s);t.exports={name:"hexString",e:function(t){var e=n.default.e(t),r=e.r,s=e.g,o=e.b,i=r%17==0&&s%17==0&&o%17==0,a=i?17:1,u=i?4:8,c=i?4:7,h=r/a<<2*u|s/a<<u|o/a,f=h.toString(16);return"#"+new Array(c-f.length).join("0")+f},u:function(t){t=t.replace(/#/g,"");var e=parseInt("0x"+t),r=3==t.length,s=r?15:255,o=r?4:8,i=r?17:1;return n.default.u({r:(e>>2*o&s)*i,g:(e>>o&s)*i,b:(e&s)*i})}}},function(t,e,r){"use strict";var s=r(0),n=function(t){return t&&t.t?t:{default:t}}(s);t.exports={name:"rgbString",e:function(t){var e=n.default.e(t);return"rgb"+(e.a?"a":"")+"("+e.r+", "+e.g+", "+e.b+(e.a?", "+e.a:"")+")"},u:function(t){var e=t.match(/(rgba?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return n.default.u({r:parseInt(e[2]),g:parseInt(e[3]),b:parseInt(e[4])})}}},function(t,e,r){"use strict";function s(t){return t&&t.t?t:{default:t}}var n=r(6),o=s(n),i=r(1),a=s(i),u=r(2),c=s(u);t.exports={Color:a.default,ColorPicker:o.default,Stylesheet:c.default,ColorWheel:o.default}},function(t,e,r){"use strict";function s(t){return t&&t.t?t:{default:t}}var n=r(5),o=s(n),i=r(4),a=s(i),u=function(t,e){var r=e.r,s=e.w,n=e.h,i=e.x,a=e.y,u=e.border.w;e.range={min:i+r,max:i+s-r,w:s-2*r},e.sliderType=e.sliderType||"v",this.type="slider",this.Y=e;var c=t.G("linear",{0:{D:"#000"},100:{D:"#fff"}});this.V=c;var h=r+u/2,f=t.g({k:"iro__slider"});f.q("rect",{k:"iro__slider__value",rx:h,ry:h,x:i-u/2,y:a-u/2,width:s+u,height:n+u,fill:c.url,H:u,C:e.border.D}),this.marker=new o.default(f,e.marker)};u.prototype={update:function(t,e){var r=this.Y,s=r.range,n=t.hsv;if("v"==r.sliderType&&((e.h||e.s)&&this.V.stops[1].T({F:a.default.e({h:n.h,s:n.s,v:100})}),e.v)){var o=n.v/100;this.marker.move(s.min+o*s.w,r.y+r.h/2)}},input:function(t,e){var r=this.Y,s=r.range,n=Math.max(Math.min(t,s.max),s.min)-s.min;return{v:Math.round(100/s.w*n)}},checkHit:function(t,e){var r=this.Y;return t>r.x&&t<r.x+r.w&&e>r.y&&e<r.y+r.h}},t.exports=u},function(t,e,r){"use strict";var s=Math.PI,n=Math.cos,o=Math.sin,i=0,a={k:"class",C:"stroke",H:"stroke-width",fill:"fill",N:"opacity",U:"offset",F:"stop-color",B:"stop-opacity"},u={Z:"setTranslate",z:"setScale",J:"setRotate"},c=function(t,e,r,s){var n=document.createElementNS("http://www.w3.org/2000/svg",r);this.el=n,this.T(s),(e.el||e).appendChild(n),this.K=t,this.Q={},this.$=!!n.transform&&n.transform.baseVal};c.prototype={q:function(t,e){return new c(this.K,this,t,e)},g:function(t){return this.q("g",t)},tt:function(t,e,r,i,a,u){var c=a-i<=180?0:1;i*=s/180,a*=s/180;var h=t+r*n(a),f=e+r*o(a),l=t+r*n(i),d=e+r*o(i);return u=u||{},u.d=["M",h,f,"A",r,r,0,c,0,l,d].join(" "),this.q("path",u)},M:function(t,e,r,s){return s=s||{},s.cx=t,s.cy=e,s.r=r,this.q("circle",s)},S:function(t,e){var r,s,n=this.Q;n[t]?r=n[t]:(r=this.K.el.createSVGTransform(),n[t]=r,this.$.appendItem(r)),s=t in u?u[t]:t,r[s].apply(r,e)},T:function(t){for(var e in t||{}){var r=e in a?a[e]:e;this.el.setAttribute(r,t[e])}}};var h=function(t,e,r){var s=[],n=t.et.q(e+"Gradient",{id:"iroGradient"+i++});for(var o in r){var a=r[o];s.push(n.q("stop",{U:o+"%",F:a.D,B:void 0===a.N?1:a.N}))}this.el=n.el,this.url="url(#"+n.el.id+")",this.stops=s},f=function(t,e,r){c.call(this,this,t,"svg",{width:e,height:r,style:"display:block;overflow:hidden;"}),this.et=this.q("defs")};f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.G=function(t,e){return new h(this,t,e)},t.exports=f},function(t,e,r){"use strict";var s=r(5),n=function(t){return t&&t.t?t:{default:t}}(s),o=Math.PI,i=Math.sqrt,a=Math.abs,u=Math.round,c=function(t,e){this.Y=e,this.type="wheel";var r=e.cY,s=e.cX,o=e.r,i=e.border,a=t.G("radial",{0:{D:"#fff"},100:{D:"#fff",N:0}}),u=t.g({k:"iro__wheel"});u.M(s,r,o+i.w/2,{k:"iro__wheel__border",fill:"#fff",C:i.D,H:i.w});for(var c=u.g({k:"iro__wheel__hue",H:o,fill:"none"}),h=0;h<360;h++)c.tt(s,r,o/2,h-.5,h+1.5,{C:"hsl("+h+",100%,50%)"});u.M(s,r,o,{k:"iro__wheel__saturation",fill:a.url}),this.rt=u.M(s,r,o,{k:"iro__wheel__lightness"}),this.marker=new n.default(u,e.marker)};c.prototype={update:function(t,e){var r=this.Y,s=t.hsv;if(e.v&&this.rt.T({N:(1-s.v/100).toFixed(2)}),e.h||e.s){var n=s.h*(o/180),i=s.s/100*r.rMax;this.marker.move(r.cX+i*Math.cos(n),r.cY+i*Math.sin(n))}},input:function(t,e){var r=this.Y,s=r.rMax,n=r.cX-t,a=r.cY-e,c=Math.atan2(a,n),h=u(c*(180/o))+180,f=Math.min(i(n*n+a*a),s);return{h:h,s:u(100/s*f)}},checkHit:function(t,e){var r=this.Y,s=a(t-r.cX),n=a(e-r.cY);return i(s*s+n*n)<r.r}},t.exports=c},function(t,e,r){"use strict";var s=document;t.exports={I:function(t,e,r){for(var s=0;s<e.length;s++)t.addEventListener(e[s],r)},st:function(t,e,r){for(var s=0;s<e.length;s++)t.removeEventListener(e[s],r)},j:function(t){var e=this;"complete"==s.readyState?t():e.I(s,["readystatechange"],function r(n){"complete"==s.readyState&&(t(),e.st(s,["readystatechange"],r))})}}}])});