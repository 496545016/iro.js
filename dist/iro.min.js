/*!
 * iro.js
 * ----------------
 * Author: James Daniel (github.com/jaames | rakujira.jp)
 * Last updated: Thu Aug 31 2017
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iro=e():t.iro=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.e?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/test",e(e.s=9)}([function(t,e,r){"use strict";var n=Math.round;t.exports={name:"rgb",u:function(t){var e,r,s,i,o,a,u,c,h=t.h/360,f=t.s/100,l=t.v/100;switch(i=Math.floor(6*h),o=6*h-i,a=l*(1-f),u=l*(1-o*f),c=l*(1-(1-o)*f),i%6){case 0:e=l,r=c,s=a;break;case 1:e=u,r=l,s=a;break;case 2:e=a,r=l,s=c;break;case 3:e=a,r=u,s=l;break;case 4:e=c,r=a,s=l;break;case 5:e=l,r=a,s=u}return{r:n(255*e),g:n(255*r),b:n(255*s)}},_:function(t){var e,r=t.r/255,s=t.g/255,i=t.b/255,o=Math.max(r,s,i),a=Math.min(r,s,i),u=o-a;switch(o){case a:e=0;break;case r:e=(s-i)/u+(s<i?6:0);break;case s:e=(i-r)/u+2;break;case i:e=(r-s)/u+4}return e/=6,{h:n(360*e),s:n(0===o?0:u/o*100),v:n(100*o)}}}},function(t,e,r){"use strict";function n(t){return t&&t.e?t:{default:t}}var s=r(3),i=n(s),o=r(0),a=n(o),u=r(4),c=n(u),h=r(8),f=n(h),l=r(7),d=n(l),v=[i.default,a.default,c.default,f.default,d.default],p=function t(e){var r=this;if(!(this instanceof t))return new t(e);this.M=!1,this.k={h:void 0,s:void 0,v:void 0},this.register("hsv",{get:this.get,set:this.set}),v.forEach(function(t){r.register(t.name,{set:function(e){this.hsv=t._(e)},get:function(){return t.u(this.hsv)}})}),e&&this.fromString(e)};p.prototype={register:function(t,e){Object.defineProperty(this,t,e)},watch:function(t,e){this.M=t,e&&this.forceUpdate()},unwatch:function(){this.watch(!1)},forceUpdate:function(){var t=this.k;this.M(t,t,{h:!0,s:!0,v:!0})},set:function(t){var e={},r=this.k;for(var n in r)t.hasOwnProperty(n)||(t[n]=r[n]),e[n]=!(t[n]==r[n]);this.k=t;var s=this.M;(e.h||e.s||e.v)&&"function"==typeof s&&s(t,r,e)},get:function(){return this.k},fromString:function(t){/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t)}},t.exports=p},function(t,e,r){"use strict";var n=document,s=function(t){var e=n.createElement("style");n.head.appendChild(e),e.appendChild(n.createTextNode("")),this.style=e;var r=e.sheet;this.sheet=r,this.rules=r.rules||r.cssRules,this.map={}};s.prototype={on:function(){this.enable()},enable:function(){this.sheet.disabled=!1},off:function(){this.disable()},disable:function(){this.sheet.disabled=!0},setRule:function(t,e,r){var n=this.sheet,s=n.rules||n.cssRules,i=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),i.hasOwnProperty(t))i[t].setProperty(e,r);else{var o=s.length,a=e+": "+r;try{n.insertRule(t+" {"+a+";}",o)}catch(e){n.addRule(t,a,o)}finally{s=n.rules||n.cssRules,i[t]=s[o].style}}},getCss:function(){var t=this.map,e={};for(var r in t){var n=t[r];e[r]={};for(var s=0;s<n.length;s++){var i=n[s];e[r][i]=n.getPropertyValue(i)}}return e},getCssText:function(){var t=this.map,e=[];for(var r in t)e.push(r.replace(/,\W/g,",\n")+" {\n\t"+t[r].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")}},t.exports=s},function(t,e,r){"use strict";var n=Math.round;t.exports={name:"hsl",u:function(t){var e=t.s/100,r=t.v/100,s=(2-e)*r;return e=0==e?0:e*r/(s<1?s:2-s),{h:t.h,s:n(100*e),l:n(50*s)}},_:function(t){var e=t.s/100,r=t.l/100;return r*=2,e*=r<=1?r:2-r,{h:t.h,s:n(2*e/(r+e)*100),v:n((r+e)/2*100)}}}},function(t,e,r){"use strict";var n=r(3),s=function(t){return t&&t.e?t:{default:t}}(n);t.exports={name:"hslString",u:function(t){var e=s.default.u(t);return"hsl"+(e.a?"a":"")+"("+e.h+", "+e.s+"%, "+e.l+"%"+(e.a?", "+e.a:"")+")"},_:function(t){var e=t.match(/(hsla?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return s.default._({h:parseInt(e[2]),s:parseInt(e[3]),l:parseInt(e[4])})}}},function(t,e,r){"use strict";var n=function(t,e){var r=t.g();[[5,"#000"],[2,"#fff"]].map(function(t){r.H(0,0,e.r,{f:"none",sw:t[0],s:t[1]})}),this.g=r};n.prototype={move:function(t,e){this.g.C("t",[t,e])}},t.exports=n},function(t,e,r){"use strict";function n(t){return t&&t.e?t:{default:t}}var s=r(12),i=n(s),o=r(10),a=n(o),u=r(13),c=n(u),h=r(11),f=n(h),l=r(1),d=n(l),v=r(2),p=n(v),g=!1;c.default.T(document,["mousemove","touchmove"],function(t){g&&g.S(t)}),c.default.T(document,["mouseup","touchend"],function(t){g&&(t.preventDefault(),g.emit("input:end"),g.I=!1,g=!1)});var m=function t(e,r){if(!(this instanceof t))return new t(e,r);this.P={},this.I=!1,this.M=!1,this.stylesheet=new p.default,this.css=r.css||r.styles||void 0,this.color=new d.default(r.color||"#fff"),c.default.R(function(){e="string"==typeof e?document.querySelector(e):e;var t=r.width||parseInt(e.width)||320,n=r.height||parseInt(e.height)||320,s=new f.default(e,t,n);this.el=e,this.svg=s;var o=r.padding+2||6,u=r.borderWidth||0,h=r.markerRadius||8,l=r.sliderMargin||24,d=r.sliderHeight||2*h+2*o+2*u,v=Math.min(n-d-l,t),p=v/2-u,g=(t-v)/2,m={r:h},_={w:u,color:r.borderColor||"#fff"};this.ui=[new i.default(s,{cX:g+v/2,cY:v/2,r:p,rMax:p-(h+o),marker:m,border:_}),new a.default(s,{sliderType:"v",x:g+u,y:v+l,w:v-2*u,h:d-2*u,r:d/2-u,marker:m,border:_})],this.color.watch(this.j.bind(this),!0),c.default.T(e,["mousedown","touchstart"],this.D.bind(this))}.bind(this))};m.prototype={watch:function(t,e){this.on("color:change",t),this.M=t,e&&t(this.color)},unwatch:function(){this.off("color:change",this.M)},on:function(t,e){var r=this.P;(r[t]||(r[t]=[])).push(e)},off:function(t,e){var r=this.P;r[t]&&r[t].splice(r[t].indexOf(e),1)},emit:function(t,e){var r=this.P;(r[t]||[]).map(function(t){t(e)}),(r["*"]||[]).map(function(t){t(e)})},A:function(t){t.preventDefault();var e=t.touches?t.changedTouches[0]:t,r=this.el.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},L:function(t,e){this.color.set(this.I.input(t,e))},D:function(t){var e=this,r=this.A(t),n=r.x,s=r.y;this.ui.forEach(function(t){t.checkHit(n,s)&&(g=e,e.I=t,e.emit("input:start"),e.L(n,s))})},S:function(t){if(this==g){var e=this.A(t);this.L(e.x,e.y)}},j:function(t,e,r){var n=this.color,s=n.rgbString,i=this.css;this.ui.forEach(function(t){t.update(n,r)});for(var o in i){var a=i[o];for(var u in a)this.stylesheet.setRule(o,u,s)}this.emit("color:change",n)}},t.exports=m},function(t,e,r){"use strict";var n=r(0),s=function(t){return t&&t.e?t:{default:t}}(n);t.exports={name:"hexString",u:function(t){var e=s.default.u(t),r=e.r,n=e.g,i=e.b,o=r%17==0&&n%17==0&&i%17==0,a=o?17:1,u=o?4:8,c=o?4:7,h=r/a<<2*u|n/a<<u|i/a,f=h.toString(16);return"#"+new Array(c-f.length).join("0")+f},_:function(t){t=t.replace(/#/g,"");var e=parseInt("0x"+t),r=3==t.length,n=r?15:255,i=r?4:8,o=r?17:1;return s.default._({r:(e>>2*i&n)*o,g:(e>>i&n)*o,b:(e&n)*o})}}},function(t,e,r){"use strict";var n=r(0),s=function(t){return t&&t.e?t:{default:t}}(n);t.exports={name:"rgbString",u:function(t){var e=s.default.u(t);return"rgb"+(e.a?"a":"")+"("+e.r+", "+e.g+", "+e.b+(e.a?", "+e.a:"")+")"},_:function(t){var e=t.match(/(rgba?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return s.default._({r:parseInt(e[2]),g:parseInt(e[3]),b:parseInt(e[4])})}}},function(t,e,r){"use strict";function n(t){return t&&t.e?t:{default:t}}var s=r(6),i=n(s),o=r(1),a=n(o),u=r(2),c=n(u);t.exports={Color:a.default,ColorPicker:i.default,Stylesheet:c.default,ColorWheel:i.default}},function(t,e,r){"use strict";function n(t){return t&&t.e?t:{default:t}}var s=r(5),i=n(s),o=r(4),a=n(o),u=function(t,e){var r=e.r,n=e.w,s=e.h,o=e.x,a=e.y,u=e.border.w;e.range={min:o+r,max:o+n-r,w:n-2*r},e.sliderType=e.sliderType||"v";var c=t.O("linear",{0:{c:"#000"},100:{c:"#fff"}}),h=r+u/2,f=t.g();f.X("rect",{rx:h,ry:h,x:o-u/2,y:a-u/2,width:n+u,height:s+u,f:c.url,sw:u,s:e.border.color}),this.type="slider",this.Y=e,this.W=c,this.marker=new i.default(f,e.marker)};u.prototype={update:function(t,e){var r=this.Y,n=r.range,s=t.hsv;if("v"==r.sliderType&&((e.h||e.s)&&this.W.stops[1].G({sc:a.default.u({h:s.h,s:s.s,v:100})}),e.v)){var i=s.v/100;this.marker.move(n.min+i*n.w,r.y+r.h/2)}},input:function(t,e){var r=this.Y,n=r.range,s=Math.max(Math.min(t,n.max),n.min)-n.min;return{v:Math.round(100/n.w*s)}},checkHit:function(t,e){var r=this.Y;return t>r.x&&t<r.x+r.w&&e>r.y&&e<r.y+r.h}},t.exports=u},function(t,e,r){"use strict";var n=Math.PI,s=Math.cos,i=Math.sin,o=0,a={s:"stroke",sw:"stroke-width",f:"fill",o:"opacity",os:"offset",sc:"stop-color",so:"stop-opacity"},u={t:"setTranslate",s:"setScale",r:"setRotate"},c=function(t,e,r,n){var s=document.createElementNS("http://www.w3.org/2000/svg",r);this.el=s,this.G(n),(e.el||e).appendChild(s),this.V=t,this.q={},this.N=!!s.transform&&s.transform.baseVal};c.prototype={X:function(t,e){return new c(this.V,this,t,e)},g:function(t){return this.X("g",t)},U:function(t,e,r,o,a,u){var c=a-o<=180?0:1;o*=n/180,a*=n/180;var h=t+r*s(a),f=e+r*i(a),l=t+r*s(o),d=e+r*i(o);return u=u||{},u.d=["M",h,f,"A",r,r,0,c,0,l,d].join(" "),this.X("path",u)},H:function(t,e,r,n){return n=n||{},n.cx=t,n.cy=e,n.r=r,this.X("circle",n)},C:function(t,e){var r,n,s=this.q;s[t]?r=s[t]:(r=this.V.el.createSVGTransform(),s[t]=r,this.N.appendItem(r)),n=t in u?u[t]:t,r[n].apply(r,e)},G:function(t){for(var e in t||{}){var r=e in a?a[e]:e;this.el.setAttribute(r,t[e])}}};var h=function(t,e,r){var n=[],s=t.B.X(e+"Gradient",{id:"iroGradient"+o++});for(var i in r){var a=r[i];n.push(s.X("stop",{os:i+"%",sc:a.c,so:void 0===a.o?1:a.o}))}this.el=s.el,this.url="url(#"+s.el.id+")",this.stops=n},f=function(t,e,r){c.call(this,this,t,"svg",{width:e,height:r}),this.B=this.X("defs")};f.prototype=Object.create(c.prototype),f.prototype.constructor=f,f.prototype.O=function(t,e){return new h(this,t,e)},t.exports=f},function(t,e,r){"use strict";var n=r(5),s=function(t){return t&&t.e?t:{default:t}}(n),i=Math.PI,o=Math.pow,a=Math.sqrt,u=Math.abs,c=Math.round,h=function(t,e){this.Y=e,this.type="wheel";for(var r=e.cY,n=e.cX,i=e.r,o=e.border,a=t.O("radial",{0:{c:"#fff"},100:{c:"#fff",o:0}}),u=t.g(),c=u.g({sw:i,f:"none"}),h=0;h<360;h++)c.U(n,r,i/2,h-.5,h+1.5,{s:"hsl("+h+",100%,50%)"});u.H(n,r,i+o.w/2,{f:a.url,s:o.color,sw:o.w}),this.F=u.H(n,r,i),this.marker=new s.default(u,e.marker)};h.prototype={update:function(t,e){var r=this.Y,n=t.hsv;if(e.v&&this.F.G({o:1-n.v/100}),e.h||e.s){var s=n.h*(i/180),o=n.s/100*r.rMax;this.marker.move(r.cX+o*Math.cos(s),r.cY+o*Math.sin(s))}},input:function(t,e){var r=this.Y,n=r.cX,s=r.cY,u=(r.r,r.rMax),h=Math.atan2(t-n,e-s),f=360-(c(h*(180/i))+270)%360,l=Math.min(a(o(n-t,2)+o(s-e,2)),u);return{h:f,s:c(100/u*l)}},checkHit:function(t,e){var r=this.Y,n=u(t-r.cX),s=u(e-r.cY);return a(n*n+s*s)<r.r}},t.exports=h},function(t,e,r){"use strict";var n=document;t.exports={T:function(t,e,r){for(var n=0;n<e.length;n++)t.addEventListener(e[n],r)},Z:function(t,e,r){for(var n=0;n<e.length;n++)t.removeEventListener(e[n],r)},R:function(t){var e=this;"complete"==n.readyState?t():e.T(n,["readystatechange"],function r(s){"complete"==n.readyState&&(t(),e.Z(n,["readystatechange"],r))})}}}])});
//# sourceMappingURL=iro.min.js.map