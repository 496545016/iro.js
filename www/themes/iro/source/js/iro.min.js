/*!
 * iro.js
 * ----------------
 * Author: James Daniel (github.com/jaames | rakujira.jp)
 * Last updated: Mon Oct 16 2017
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.iro=e():t.iro=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var s=r[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.t?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/test",e(e.s=4)}([function(t,e,r){"use strict";function n(t){var e,r,n,s,i,o,a,c,h=t.h/360,u=t.s/100,l=t.v/100;switch(s=Math.floor(6*h),i=6*h-s,o=l*(1-u),a=l*(1-i*u),c=l*(1-(1-i)*u),s%6){case 0:e=l,r=c,n=o;break;case 1:e=a,r=l,n=o;break;case 2:e=o,r=l,n=c;break;case 3:e=o,r=a,n=l;break;case 4:e=c,r=o,n=l;break;case 5:e=l,r=o,n=a}return{r:p(255*e),g:p(255*r),b:p(255*n)}}function s(t){var e,r=t.r/255,n=t.g/255,s=t.b/255,i=Math.max(r,n,s),o=Math.min(r,n,s),a=i-o;switch(i){case o:e=0;break;case r:e=(n-s)/a+(n<s?6:0);break;case n:e=(s-r)/a+2;break;case s:e=(r-n)/a+4}return e/=6,{h:p(360*e),s:p(0===i?0:a/i*100),v:p(100*i)}}function i(t){return"rgb"+(t.a?"a":"")+"("+t.r+", "+t.g+", "+t.b+(t.a?", "+t.a:"")+")"}function o(t){var e=t.match(/(rgba?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return{r:parseInt(e[2]),g:parseInt(e[3]),b:parseInt(e[4])}}function a(t){var e=t.r,r=t.g,n=t.b,s=e%17==0&&r%17==0&&n%17==0,i=s?17:1,o=s?4:8,a=s?4:7,c=e/i<<2*o|r/i<<o|n/i,h=c.toString(16);return"#"+new Array(a-h.length).join("0")+h}function c(t){t=t.replace(/#/g,"");var e=parseInt("0x"+t),r=3==t.length,n=r?15:255,s=r?4:8,i=r?17:1;return{r:(e>>2*s&n)*i,g:(e>>s&n)*i,b:(e&n)*i}}function h(t){var e=t.s/100,r=t.v/100,n=(2-e)*r;return e=0==e?0:e*r/(n<1?n:2-n),{h:t.h,s:p(100*e),l:p(50*n)}}function u(t){var e=t.s/100,r=t.l/100;return r*=2,e*=r<=1?r:2-r,{h:t.h,s:p(2*e/(r+e)*100),v:p((r+e)/2*100)}}function l(t){return"hsl"+(t.a?"a":"")+"("+t.h+", "+t.s+"%, "+t.l+"%"+(t.a?", "+t.a:"")+")"}function f(t){var e=t.match(/(hsla?)\((\d+)(?:\D+?)(\d+)(?:\D+?)(\d+)(?:\D+?)?([0-9\.]+?)?\)/i);return{h:parseInt(e[2]),s:parseInt(e[3]),l:parseInt(e[4])}}var p=Math.round,d=function(t){this.e=!1,this.u={h:void 0,s:void 0,v:void 0},t&&this.fromString(t)};d.hsvToRgb=n,d.rgbToHsv=s,d.hsvToHsl=h,d.hslToHsv=u,d.hslToString=l,d.rgbToString=i,d.rgbToHex=a,d.parseHexString=c,d.parseHslString=f,d.parseRgbString=o,d.prototype={constructor:d,fromString:function(t){/^rgb/.test(t)?this.rgbString=t:/^hsl/.test(t)?this.hslString=t:/^#[0-9A-Fa-f]/.test(t)&&(this.hexString=t)},watch:function(t,e){this.e=t,e&&this.forceUpdate()},unwatch:function(){this.watch(!1)},forceUpdate:function(){var t=this.u;this.e(t,t,{h:!0,s:!0,v:!0})},set:function(t,e){var r={},n=this.u;for(var s in n)t.hasOwnProperty(s)||(t[s]=n[s]),r[s]=t[s]!=n[s];this.u=t;var i=this.e;(r.h||r.s||r.v)&&"function"==typeof i&&i(t,n,r,e)}},Object.defineProperties(d.prototype,{hsv:{get:function(){return this.u},set:function(t){this.set(t,!0)}},rgb:{get:function(){return n(this.u)},set:function(t){this.hsv=s(t)}},hsl:{get:function(){return h(this.u)},set:function(t){this.hsv=u(t)}},rgbString:{get:function(){return i(this.rgb)},set:function(t){this.rgb=o(t)}},hexString:{get:function(){return a(this.rgb)},set:function(t){this.rgb=c(t)}},hslString:{get:function(){return l(this.hsl)},set:function(t){this.hsl=d.parseHslString(t)}}}),t.exports=d},function(t,e,r){"use strict";var n=function(){var t=document.createElement("style");document.head.appendChild(t),t.appendChild(document.createTextNode("")),this.style=t;var e=t.sheet;this.sheet=e,this.rules=e.rules||e.cssRules,this.map={}};n.prototype={constructor:n,setRule:function(t,e,r){var n=this.sheet,s=n.rules||n.cssRules,i=this.map;if(e=e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}),i.hasOwnProperty(t))i[t].setProperty(e,r);else{var o=s.length,a=e+": "+r;try{n.insertRule(t+" {"+a+";}",o)}catch(e){n.addRule(t,a,o)}finally{s=n.rules||n.cssRules,i[t]=s[o].style}}}},Object.defineProperties(n.prototype,{enabled:{get:function(){return!this.sheet.disabled},set:function(t){this.sheet.disabled=!t}},cssText:{get:function(){var t=this.map,e=[];for(var r in t)e.push(r.replace(/,\W/g,",\n")+" {\n\t"+t[r].cssText.replace(/;\W/g,";\n\t")+"\n}");return e.join("\n")}},css:{get:function(){var t=this.map,e={};for(var r in t){var n=t[r];e[r]={};for(var s=0;s<n.length;s++){var i=n[s];e[r][i]=n.getPropertyValue(i)}}return e}}}),t.exports=n},function(t,e,r){"use strict";var n=function(t,e){var r=t.g({f:"iro__marker"});r._(0,0,e.r,{f:"iro__marker__outer",fill:"none",k:5,M:"#000"}),r._(0,0,e.r,{f:"iro__marker__inner",fill:"none",k:2,M:"#fff"}),this.g=r};n.prototype={constructor:n,move:function(t,e){this.g.T("translate",[t,e])}},t.exports=n},function(t,e,r){"use strict";function n(t){return t&&t.t?t:{default:t}}function s(t,e,r){for(var n=0;n<e.length;n++)t.addEventListener(e[n],r)}function i(t,e,r){for(var n=0;n<e.length;n++)t.removeEventListener(e[n],r)}function o(t){_.readyState==m?t():s(_,[y],function e(r){_.readyState==m&&(t(),i(_,[y],e))})}var a=r(7),c=n(a),h=r(5),u=n(h),l=r(6),f=n(l),p=r(0),d=n(p),v=r(1),g=n(v),_=document,m="complete",y="readystatechange",w=!1;s(document,["mousemove","touchmove"],function(t){w&&w.S(t)}),s(document,["mouseup","touchend"],function(t){w&&(t.preventDefault(),w.emit("input:end"),w.C=!1,w=!1)});var b=function(t,e){var r=this;e=e||{},this.I={},this.C=!1,this.e=!1,this.stylesheet=new g.default,this.css=e.css||e.styles||void 0,this.P=new d.default(e.P||e.defaultValue||"#fff"),o(function(){r.j(t,e)})};b.prototype={constructor:b,watch:function(t,e){this.on("color:change",t),this.e=t,e&&t(this.P)},unwatch:function(){this.off("color:change",this.e)},on:function(t,e){var r=this.I;(r[t]||(r[t]=[])).push(e)},off:function(t,e){var r=this.I[t];r&&evenList.splice(r.indexOf(e),1)},emit:function(t,e){var r=this.I;(r[t]||[]).concat(r["*"]||[]).map(function(t){t(e)})},j:function(t,e){t="string"==typeof t?document.querySelector(t):t;var r=e.width||parseInt(t.width)||320,n=e.height||parseInt(t.height)||320,i=new f.default(t,r,n);this.el=t,this.svg=i;var o=e.padding+2||6,a=e.borderWidth||0,h=e.markerRadius||8,l=e.sliderMargin||24,p=e.sliderHeight||2*h+2*o+2*a,d=Math.min(n-p-l,r),v=d/2-a,g=(r-d)/2,_={r:h},m={w:a,P:e.borderColor||"#fff"};this.ui=[new c.default(i,{cX:g+d/2,cY:d/2,r:v,rMax:v-(h+o),marker:_,border:m,anticlockwise:e.anticlockwise}),new u.default(i,{sliderType:"v",x:g+a,y:d+l,w:d-2*a,h:p-2*a,r:p/2-a,marker:_,border:m})],this.P.watch(this.H.bind(this),!0),s(i.el,["mousedown","touchstart"],this.R.bind(this))},A:function(t){var e=t.touches?t.changedTouches[0]:t,r=this.svg.el.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},D:function(t,e){this.P.hsv=this.C.input(t,e)},R:function(t){var e=this,r=this.A(t),n=r.x,s=r.y;this.ui.forEach(function(r){r.checkHit(n,s)&&(t.preventDefault(),w=e,e.C=r,e.emit("input:start"),e.D(n,s))})},S:function(t){if(this==w){t.preventDefault();var e=this.A(t);this.D(e.x,e.y)}},H:function(t,e,r,n){var s=this.P,i=s.rgbString,o=this.css;this.ui.forEach(function(t){t.update(s,r)});for(var a in o){var c=o[a];for(var h in c)this.stylesheet.setRule(a,h,i)}n&&this.emit("color:change",s)}},t.exports=b},function(t,e,r){"use strict";function n(t){return t&&t.t?t:{default:t}}var s=r(3),i=n(s),o=r(0),a=n(o),c=r(1),h=n(c);t.exports={Color:a.default,ColorPicker:i.default,Stylesheet:h.default}},function(t,e,r){"use strict";function n(t){return t&&t.t?t:{default:t}}var s=r(2),i=n(s),o=r(0),a=n(o),c=function(t,e){var r=e.r,n=e.w,s=e.h,o=e.x,a=e.y,c=e.border.w;e.range={min:o+r,max:o+n-r,w:n-2*r},e.sliderType=e.sliderType||"v",this.type="slider",this.O=e;var h=t.L("linear",{0:{P:"#000"},100:{P:"#fff"}});this.W=h;var u=r+c/2,l=t.g({f:"iro__slider"});l.X("rect",{f:"iro__slider__value",rx:u,ry:u,x:o-c/2,y:a-c/2,width:n+c,height:s+c,fill:h.url,k:c,M:e.border.P}),this.marker=new i.default(l,e.marker)};c.prototype={constructor:c,update:function(t,e){var r=this.O,n=r.range,s=t.hsv,i=a.default.hsvToHsl({h:s.h,s:s.s,v:100});if("v"==r.sliderType&&((e.h||e.s)&&this.W.stops[1].Y({V:"hsl("+i.h+","+i.s+"%,"+i.l+"%)"}),e.v)){var o=s.v/100;this.marker.move(n.min+o*n.w,r.y+r.h/2)}},input:function(t,e){var r=this.O,n=r.range,s=Math.max(Math.min(t,n.max),n.min)-n.min;return{v:Math.round(100/n.w*s)}},checkHit:function(t,e){var r=this.O;return t>r.x&&t<r.x+r.w&&e>r.y&&e<r.y+r.h}},t.exports=c},function(t,e,r){"use strict";var n=0,s={f:"class",M:"stroke",k:"stroke-width",fill:"fill",G:"opacity",q:"offset",V:"stop-color",F:"stop-opacity"},i={N:"setTranslate",U:"setScale",B:"setRotate"},o=/msie|trident/.test(window.navigator.userAgent.toLowerCase()),a=function(t,e,r,n){var s=document.createElementNS("http://www.w3.org/2000/svg",r);this.el=s,this.Y(n),(e.el||e).appendChild(s),this.Z=t,this.z={},this.J=!!s.transform&&s.transform.baseVal};a.prototype={constructor:a,X:function(t,e){return new a(this.Z,this,t,e)},g:function(t){return this.X("g",t)},K:function(t,e,r,n,s,i){var o=s-n<=180?0:1;n*=Math.PI/180,s*=Math.PI/180;var a=t+r*Math.cos(s),c=e+r*Math.sin(s),h=t+r*Math.cos(n),u=e+r*Math.sin(n);return i=i||{},i.d=["M",a,c,"A",r,r,0,o,0,h,u].join(" "),this.X("path",i)},_:function(t,e,r,n){return n=n||{},n.cx=t,n.cy=e,n.r=r,this.X("circle",n)},T:function(t,e){if(o)this.Y({transform:t+"("+e.join(", ")+")"});else{var r,n,s=this.z;s[t]?r=s[t]:(r=this.Z.el.createSVGTransform(),s[t]=r,this.J.appendItem(r)),n=t in i?i[t]:t,r[n].apply(r,e)}},Y:function(t){for(var e in t){var r=e in s?s[e]:e;this.el.setAttribute(r,t[e])}}};var c=function(t,e,r){var s=[],i=t.Q.X(e+"Gradient",{id:"iroGradient"+n++});for(var o in r){var a=r[o];s.push(i.X("stop",{q:o+"%",V:a.P,F:void 0===a.G?1:a.G}))}this.el=i.el,this.url="url(#"+i.el.id+")",this.stops=s},h=function(t,e,r){a.call(this,this,t,"svg",{width:e,height:r,style:"display:block;overflow:hidden;"}),this.Q=this.X("defs")};h.prototype=Object.create(a.prototype),h.prototype.constructor=h,h.prototype.L=function(t,e){return new c(this,t,e)},t.exports=h},function(t,e,r){"use strict";var n=r(2),s=function(t){return t&&t.t?t:{default:t}}(n),i=Math.PI,o=Math.sqrt,a=Math.abs,c=Math.round,h=function(t,e){this.O=e,this.type="wheel";var r=e.cY,n=e.cX,i=e.r,o=e.border,a=t.L("radial",{0:{P:"#fff"},100:{P:"#fff",G:0}}),c=t.g({f:"iro__wheel"});c._(n,r,i+o.w/2,{f:"iro__wheel__border",fill:"#fff",M:o.P,k:o.w});for(var h=c.g({f:"iro__wheel__hue",k:i,fill:"none"}),u=0;u<360;u++)h.K(n,r,i/2,u,u+1.5,{M:"hsl("+(e.anticlockwise?360-u:u)+",100%,50%)"});c._(n,r,i,{f:"iro__wheel__saturation",fill:a.url}),this.$=c._(n,r,i,{f:"iro__wheel__lightness"}),this.marker=new s.default(c,e.marker)};h.prototype={constructor:h,update:function(t,e){var r=this.O,n=t.hsv;if(e.v&&this.$.Y({G:(1-n.v/100).toFixed(2)}),e.h||e.s){var s=(r.anticlockwise?360-n.h:n.h)*(i/180),o=n.s/100*r.rMax;this.marker.move(r.cX+o*Math.cos(s),r.cY+o*Math.sin(s))}},input:function(t,e){var r=this.O,n=r.rMax,s=r.cX-t,a=r.cY-e,h=Math.atan2(a,s),u=c(h*(180/i))+180,l=Math.min(o(s*s+a*a),n);return u=r.anticlockwise?360-u:u,{h:u,s:c(100/n*l)}},checkHit:function(t,e){var r=this.O,n=a(t-r.cX),s=a(e-r.cY);return o(n*n+s*s)<r.r}},t.exports=h}])});