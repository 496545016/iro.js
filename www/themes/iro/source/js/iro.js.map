{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8f3733f660217dd4a591","webpack:///./modules/color.js","webpack:///./modules/stylesheet.js","webpack:///./ui/marker.js","webpack:///./modules/colorPicker.js","webpack:///./iro.js","webpack:///./ui/slider.js","webpack:///./ui/svg.js","webpack:///./ui/wheel.js"],"names":["round","Math","hsvToRgb","hsv","r","g","b","i","f","p","q","t","h","s","v","floor","rgbToHsv","rgb","max","min","delta","hue","rgbToString","a","parseRgbString","str","parsed","match","parseInt","rgbToHex","useShorthand","divider","bitLength","strLength","int","toString","Array","length","join","parseHexString","hex","replace","isShorthand","bitMask","multiplier","hsvToHsl","l","hslToHsv","hsl","hslToString","parseHslString","color","_onChange","_value","undefined","fromString","prototype","constructor","test","rgbString","hslString","hexString","watch","callback","callImmediately","forceUpdate","unwatch","value","set","newValue","triggerEvents","changes","oldValue","channel","hasOwnProperty","Object","defineProperties","get","module","exports","stylesheet","style","document","createElement","head","appendChild","createTextNode","sheet","rules","cssRules","map","setRule","selector","property","$1","toLowerCase","index","declaration","insertRule","e","addRule","setProperty","enabled","disabled","cssText","ret","push","css","ruleSet","getPropertyValue","CLASS_PREFIX","marker","svg","opts","baseGroup","class","circle","fill","strokeWidth","stroke","move","x","y","setTransform","doc","READYSTATE_COMPLETE","READYSTATE_CHANGE","listen","el","eventList","addEventListener","unlisten","removeEventListener","whenReady","_this","readyState","stateChange","activeColorWheel","_mouseMove","preventDefault","emit","_mouseTarget","colorPicker","_events","styles","defaultValue","_init","on","off","eventType","events","evenList","splice","indexOf","data","concat","querySelector","width","height","svgRoot","padding","borderWidth","markerRadius","sliderMargin","sliderHeight","bodyWidth","wheelRadius","leftMargin","borderStyles","w","borderColor","ui","cX","cY","rMax","border","anticlockwise","sliderType","_update","bind","_mouseDown","_getLocalPoint","point","touches","changedTouches","rect","getBoundingClientRect","clientX","left","clientY","top","_handleInput","input","forEach","uiElement","checkHit","update","properties","prop","Color","ColorPicker","Stylesheet","slider","range","type","_opts","gradient","_gradient","radius","insert","rx","ry","url","stops","setAttrs","stopColor","percent","dist","GRADIENT_INDEX","GRADIENT_SUFFIX","SVG_NAMESPACE","SVG_ATTRIBUTE_SHORTHANDS","opacity","offset","stopOpacity","SVG_TRANSFORM_SHORTHANDS","translate","scale","rotate","IS_IE","window","navigator","userAgent","svgElement","root","parent","attrs","createElementNS","_root","_svgTransforms","_transformList","transform","baseVal","arc","cx","cy","startAngle","endAngle","largeArcFlag","PI","x1","cos","y1","sin","x2","y2","d","args","transformFn","svgTransforms","createSVGTransform","appendItem","apply","attr","name","setAttribute","svgGradient","stopElements","_defs","id","stop","call","create","sqrt","abs","wheel","ringGroup","_lightness","toFixed","hueAngle","rangeMax","_x","_y","angle","atan2","dx","dy"],"mappings":"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","file":"iro.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"iro\"] = factory();\n\telse\n\t\troot[\"iro\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/test\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8f3733f660217dd4a591","var round = Math.round;\n\nfunction hsvToRgb(hsv) {\n  var r, g, b, i, f, p, q, t;\n  var h = hsv.h/360, s = hsv.s/100, v = hsv.v/100;\n  i = Math.floor(h * 6);\n  f = h * 6 - i;\n  p = v * (1 - s);\n  q = v * (1 - f * s);\n  t = v * (1 - (1 - f) * s);\n  switch (i % 6) {\n    case 0: r = v, g = t, b = p; break;\n    case 1: r = q, g = v, b = p; break;\n    case 2: r = p, g = v, b = t; break;\n    case 3: r = p, g = q, b = v; break;\n    case 4: r = t, g = p, b = v; break;\n    case 5: r = v, g = p, b = q; break;\n  }\n  return {r: round(r * 255), g: round(g * 255), b: round(b * 255)};\n}\n\nfunction rgbToHsv(rgb) {\n  // Modified from https://github.com/bgrins/TinyColor/blob/master/tinycolor.js#L446\n  var r = rgb.r / 255,\n  g = rgb.g / 255,\n  b = rgb.b / 255;\n  var max = Math.max(r, g, b),\n      min = Math.min(r, g, b),\n      delta = max - min;\n  var hue;\n  switch (max) {\n    case min:\n      hue = 0;\n      break;\n    case r:\n      hue = (g - b) / delta + (g < b ? 6 : 0);\n      break;\n    case g:\n      hue = (b - r) / delta + 2\n      break;\n    case b:\n      hue = (r - g) / delta + 4;\n      break;\n  }\n  hue /= 6;\n  return {\n    h: round(hue * 360),\n    s: round(max === 0 ? 0 : (delta / max) * 100),\n    v: round(max * 100)\n  };\n}\n\nfunction rgbToString(rgb) {\n  return \"rgb\" + (rgb.a ? \"a\" : \"\") + \"(\" + rgb.r + \", \" + rgb.g + \", \" + rgb.b + (rgb.a ? \", \" + rgb.a : \"\") + \")\";\n}\n\nfunction parseRgbString(str) {\n  var parsed = str.match(/(rgba?)\\((\\d+)(?:\\D+?)(\\d+)(?:\\D+?)(\\d+)(?:\\D+?)?([0-9\\.]+?)?\\)/i);\n  return {\n    r: parseInt(parsed[2]),\n    g: parseInt(parsed[3]),\n    b: parseInt(parsed[4])\n  };\n}\n\nfunction rgbToHex(rgb) {\n  var r = rgb.r,\n      g = rgb.g,\n      b = rgb.b;\n  // If each RGB channel's value is a multiple of 17, we can use HEX shorthand notation\n  var useShorthand = (r % 17 == 0) && (g % 17 == 0) && (b % 17 == 0),\n  // If we're using shorthand notation, divide each channel by 17\n  divider      = useShorthand ? 17 : 1,\n  // bitLength of each channel (for example, F is 4 bits long while FF is 8 bits long)\n  bitLength    = useShorthand ? 4 : 8,\n  // Target length of the string (ie \"#FFF\" or \"#FFFFFF\")\n  strLength    = useShorthand ? 4 : 7,\n  // Combine the channels together into a single integer\n  int          = (r / divider) << (bitLength * 2) | (g / divider) << bitLength | (b / divider),\n  // Convert that integer to a hex string\n  str          = int.toString(16);\n  // Add right amount of left-padding\n  return \"#\" + (new Array(strLength - str.length).join(\"0\")) + str;  \n}\n\nfunction parseHexString(hex) {\n  // Strip any \"#\" characters\n  hex = hex.replace(/#/g, '');\n  // Prefix the hex string with \"0x\" which indicates a number in hex notation, then convert to an integer\n  var int         = parseInt(\"0x\" + hex),\n      // If the length of the input is only 3, then it is a shorthand hex color\n      isShorthand = hex.length == 3,\n      // bitMask for isolating each channel\n      bitMask     = isShorthand ? 0xF : 0xFF,\n      // bitLength of each channel (for example, F is 4 bits long while FF is 8 bits long)\n      bitLength   = isShorthand ? 4 : 8,\n      // If we're using shorthand notation, multiply each channel by 17\n      multiplier  = isShorthand ? 17 : 1;\n\n  return {\n    r: ((int >> (bitLength * 2)) & bitMask) * multiplier,\n    g: ((int >> bitLength) & bitMask) * multiplier,\n    b: (int & bitMask) * multiplier,\n  };\n}\n\nfunction hsvToHsl(hsv) {\n  var s = hsv.s / 100,\n  v = hsv.v / 100;\n  var p = (2 - s) * v;\n  s = s == 0 ? 0 : s * v / (p < 1 ? p : 2 - p);\n  return {\n    h: hsv.h,\n    s: round(s * 100),\n    l: round(p * 50)\n  };\n}\n\nfunction hslToHsv(hsl) {\n  var s = hsl.s / 100,\n  l = hsl.l / 100;\n  l *= 2;\n  s *= (l <= 1) ? l : 2 - l;\n  return {\n    h: hsl.h,\n    s: round(((2 * s) / (l + s)) * 100),\n    v: round(((l + s) / 2) * 100)\n  };\n}\n\nfunction hslToString(hsl) {\n  return \"hsl\" + (hsl.a ? \"a\" : \"\") + \"(\" + hsl.h + \", \" + hsl.s + \"%, \" + hsl.l + \"%\" + (hsl.a ? \", \" + hsl.a : \"\") + \")\";\n}\n\nfunction parseHslString(str) {\n  var parsed = str.match(/(hsla?)\\((\\d+)(?:\\D+?)(\\d+)(?:\\D+?)(\\d+)(?:\\D+?)?([0-9\\.]+?)?\\)/i);\n  return {\n    h: parseInt(parsed[2]),\n    s: parseInt(parsed[3]),\n    l: parseInt(parsed[4])\n  };\n}\n\n/**\n    @constructor color object\n    @param {String} str (optional) CSS color string to use as the start color for this element\n  */\nconst color = function(str) {\n  // The watch callback function for this color will be stored here\n  this._onChange = false;\n  // The default color value\n  this._value = {h: undefined, s: undefined, v: undefined};\n  if (str) this.fromString(str);\n}\n\ncolor.hsvToRgb = hsvToRgb;\ncolor.rgbToHsv = rgbToHsv;\ncolor.hsvToHsl = hsvToHsl;\ncolor.hslToHsv = hslToHsv;\ncolor.hslToString = hslToString;\ncolor.rgbToString = rgbToString;\ncolor.rgbToHex = rgbToHex;\ncolor.parseHexString = parseHexString;\ncolor.parseHslString = parseHslString;\ncolor.parseRgbString = parseRgbString;\n\ncolor.prototype = {\n  constructor: color,\n\n  /**\n    * @desc Set the color from a CSS string\n    * @param {String} str - HEX, rgb, or hsl color string\n  */\n  fromString: function(str) {\n    if (/^rgb/.test(str)) {\n      this.rgbString = str\n    }\n    else if (/^hsl/.test(str)) {\n      this.hslString = str;\n    }\n    else if (/^#[0-9A-Fa-f]/.test(str)) {\n      this.hexString = str;\n    }\n  },\n\n  /**\n    * @desc Set a callback function that gets called whenever the selected color changes\n    * @param {Function} callback The watch callback\n    * @param {Boolean} callImmediately set to true if you want to call the callback as soon as it is added\n  */\n  watch: function(callback, callImmediately) {\n    this._onChange = callback;\n    if (callImmediately) this.forceUpdate();\n  },\n\n  /**\n    * @desc Remove the watch callback\n  */\n  unwatch: function() {\n    this.watch(false);\n  },\n\n  /**\n    * @desc Force an update\n  */\n  forceUpdate: function() {\n    var value = this._value;\n    this._onChange(value, value, {h: true, s: true, v: true});\n  },\n\n  set: function (newValue, triggerEvents) {\n    // Loop through the channels and check if any of them have changed\n    var changes = {};\n    var oldValue = this._value;\n    for (var channel in oldValue) {\n      if (!newValue.hasOwnProperty(channel)) newValue[channel] = oldValue[channel];\n      changes[channel] = newValue[channel] != oldValue[channel];\n    }\n    // Update the old value\n    this._value = newValue;\n    // If the value has changed, call hook callback\n    var callback = this._onChange;\n    if ((changes.h || changes.s || changes.v) && (\"function\" == typeof callback)) callback(newValue, oldValue, changes, triggerEvents);\n  }\n}\n\nObject.defineProperties(color.prototype, {\n  hsv: {\n    get: function () {\n      return this._value\n    },\n    set: function (value) {\n      this.set(value, true);\n    },\n  },\n  rgb: {\n    get: function() {\n      return hsvToRgb(this._value);\n    },\n    set: function(value) {\n      this.hsv = rgbToHsv(value);\n    }\n  },\n  hsl: {\n    get: function() {\n      return hsvToHsl(this._value);\n    },\n    set: function(value) {\n      this.hsv = hslToHsv(value);\n    }\n  },\n  rgbString: {\n    get: function() {\n      return rgbToString(this.rgb);\n    },\n    set: function(value) {\n      this.rgb = parseRgbString(value);\n    }\n  },\n  hexString: {\n    get: function() {\n      return rgbToHex(this.rgb);\n    },\n    set: function(value) {\n      this.rgb = parseHexString(value);\n    }\n  },\n  hslString: {\n    get: function() {\n      return hslToString(this.hsl);\n    },\n    set: function(value) {\n      this.hsl = color.parseHslString(value);\n    }\n  }\n});\n\nmodule.exports = color;\n\n\n// WEBPACK FOOTER //\n// ./modules/color.js","/**\n  @constructor stylesheet writer\n*/\nconst stylesheet = function() {\n  // Create a new style element\n  let style = document.createElement(\"style\");\n  document.head.appendChild(style);\n  // Webkit apparently requires a text node to be inserted into the style element\n  // (according to https://davidwalsh.name/add-rules-stylesheets)\n  style.appendChild(document.createTextNode(\"\"));\n  this.style = style;\n  // Create a reference to the style element's CSSStyleSheet object\n  // CSSStyleSheet API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet\n  let sheet = style.sheet;\n  this.sheet = sheet;\n  // Get a reference to the sheet's CSSRuleList object\n  // CSSRuleList API: https://developer.mozilla.org/en-US/docs/Web/API/CSSRuleList\n  this.rules = sheet.rules || sheet.cssRules;\n  // We'll store references to all the CSSStyleDeclaration objects that we change here, keyed by the CSS selector they belong to\n  // CSSStyleDeclaration API: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n  this.map = {};\n};\n\nstylesheet.prototype = {\n  constructor: stylesheet,\n\n  /**\n    * @desc Set a specific rule for a given selector\n    * @param {String} selector - the CSS selector for this rule (e.g. \"body\", \".class\", \"#id\")\n    * @param {String} property - the CSS property to set (e.g. \"background-color\", \"font-family\", \"z-index\")\n    * @param {String} value    - the new value for the rule (e.g. \"rgb(255, 255, 255)\", \"Helvetica\", \"99\")\n  */\n  setRule: function(selector, property, value) {\n    var sheet = this.sheet;\n    var rules = sheet.rules || sheet.cssRules;\n    var map = this.map;\n    // Convert property from camelCase to snake-case\n    property = property.replace(/([A-Z])/g, function($1) {\n      return \"-\" + $1.toLowerCase();\n    });\n    if (!map.hasOwnProperty(selector)) {\n      // If the selector hasn't been used yet we want to insert the rule at the end of the CSSRuleList, so we use its length as the index value\n      var index = rules.length;\n      // Prepare the rule declaration text, since both insertRule and addRule take this format\n      var declaration = property + \": \" + value;\n      // Insert the new rule into the stylesheet\n      try {\n        // Some browsers only support insertRule, others only support addRule, so we have to use both\n        sheet.insertRule(selector + \" {\" + declaration + \";}\", index);\n      } catch(e) {\n        sheet.addRule(selector, declaration, index);\n      } finally {\n        // Because safari is perhaps the worst browser in all of history, we have to remind it to keep the sheet rules up-to-date\n        rules = sheet.rules || sheet.cssRules;\n        // Add our newly inserted rule's CSSStyleDeclaration object to the internal map\n        map[selector] = rules[index].style;\n      }\n    }\n    else {\n      map[selector].setProperty(property, value);\n    }\n  }\n};\n\nObject.defineProperties(stylesheet.prototype, {\n  enabled: {\n    get: function() {\n      return !this.sheet.disabled;\n    },\n    set: function(value) {\n      this.sheet.disabled = !value;\n    },\n  },\n  // TODO: consider removing cssText + css properties since i don't tink they're that useful\n  cssText: {\n    /**\n      * @desc Get the stylesheet text\n      * @return {String} css text\n    */\n    get: function() {\n      var map = this.map;\n      var ret = [];\n      for (var selector in map) {\n        ret.push(selector.replace(/,\\W/g, \",\\n\") + \" {\\n\\t\" + map[selector].cssText.replace(/;\\W/g, \";\\n\\t\") + \"\\n}\");\n      }\n      return ret.join(\"\\n\");\n    }\n  },\n  css: {\n     /**\n      * @desc Get an object representing the current css styles\n      * @return {Object} css object\n    */\n    get: function() {\n      var map = this.map;\n      var ret = {};\n      for (var selector in map) {\n        var ruleSet = map[selector];\n        ret[selector] = {};\n        for (var i = 0; i < ruleSet.length; i++) {\n          var property = ruleSet[i];\n          ret[selector][property] = ruleSet.getPropertyValue(property);\n        }\n      }\n      return ret;\n    }\n  }\n});\n\nmodule.exports = stylesheet;\n\n\n// WEBPACK FOOTER //\n// ./modules/stylesheet.js","// css class prefix for this element\nvar CLASS_PREFIX = \"iro__marker\";\n\n /**\n  * @constructor marker UI\n  * @param {Object} ctx - canvas 2d context to draw on\n  * @param {Object} opts - options\n*/\nconst marker = function (svg, opts) {\n  var baseGroup = svg.g({\n    class: CLASS_PREFIX\n  });\n  baseGroup.circle(0, 0, opts.r, {\n    class: CLASS_PREFIX + \"__outer\",\n    fill: \"none\",\n    strokeWidth: 5,\n    stroke: \"#000\",\n  });\n  baseGroup.circle(0, 0, opts.r, {\n    class: CLASS_PREFIX + \"__inner\",\n    fill: \"none\",\n    strokeWidth: 2,\n    stroke: \"#fff\",\n  });\n  this.g = baseGroup;\n};\n\nmarker.prototype = {\n  constructor: marker,\n\n  /**\n    * @desc move markerpoint to centerpoint (x, y) and redraw\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n  */\n  move: function(x, y) {\n    this.g.setTransform(\"translate\", [x, y]);\n  }\n};\n\nmodule.exports = marker;\n\n\n// WEBPACK FOOTER //\n// ./ui/marker.js","import wheel from \"ui/wheel\";\nimport slider from \"ui/slider\";\nimport svg from \"ui/svg\";\nimport iroColor from \"modules/color\";\nimport iroStyleSheet from \"modules/stylesheet\";\n\n// Quick reference to the document object and some strings since we usethem more than once\nconst doc = document,\nREADYSTATE_COMPLETE = \"complete\",\nREADYSTATE_CHANGE = \"readystatechange\";\n\n/**\n* @desc listen to one or more events on an element\n* @param {Element} el target element\n* @param {ArrayOrString} eventList the events to listen to\n* @param {Function} callback the event callback function\n*/\nfunction listen(el, eventList, callback) {\n for (var i = 0; i < eventList.length; i++) {\n   el.addEventListener(eventList[i], callback);\n }\n};\n\n/**\n* @desc remove an event listener on an element\n* @param {Element} el target element\n* @param {ArrayOrString} eventList the events to remove\n* @param {Function} callback the event callback function\n*/\nfunction unlisten(el, eventList, callback) {\n for (var i = 0; i < eventList.length; i++) {\n   el.removeEventListener(eventList[i], callback);\n }\n};\n\n/**\n* @desc call callback when the page document is ready\n* @param {Function} callback callback function to be called\n*/\nfunction whenReady(callback) {\n var _this = this;\n if (doc.readyState == READYSTATE_COMPLETE) {\n   callback();\n }\n else {\n   listen(doc, [READYSTATE_CHANGE], function stateChange(e) {\n     if (doc.readyState == READYSTATE_COMPLETE) {\n       callback();\n       unlisten(doc, [READYSTATE_CHANGE], stateChange);\n     }\n   });\n }\n};\n\n// When the user starts to interact with a color picker's UI, a referece to that coloPicker will be stored globally\nlet activeColorWheel = false;\n\n// Global mousemove + touchmove event handler\nlisten(document, [\"mousemove\", \"touchmove\"], function (e) {\n  // If there is an active colorWheel, call its mousemove handler\n  if (activeColorWheel) activeColorWheel._mouseMove(e);\n});\n\n// Global mouseup + touchend event handler\nlisten(document, [\"mouseup\", \"touchend\"], function (e) {\n  // If there is an active colorWheel, stop it from handling input and clear the active colorWheel reference\n  if (activeColorWheel) {\n    e.preventDefault();\n    activeColorWheel.emit(\"input:end\");\n    activeColorWheel._mouseTarget = false;\n    activeColorWheel = false;\n  }\n});\n\n/**\n  @constructor color wheel object\n  @param {ElementOrString} el - a DOM element or the CSS selector for a DOM element to use as a container for the UI\n  @param {Object} opts - options for this instance\n*/\nconst colorPicker = function(el, opts) {\n  opts = opts || {};\n  // event storage for `on` and `off`\n  this._events = {};\n  this._mouseTarget = false;\n  this._onChange = false;\n  // Create an iroStyleSheet for this colorWheel's CSS overrides\n  this.stylesheet = new iroStyleSheet();\n  this.css = opts.css || opts.styles || undefined;\n  // Create an iroColor to store this colorWheel's selected color\n  this.color = new iroColor(opts.color || opts.defaultValue || \"#fff\");\n  // Wait for the document to be ready, then init the UI\n  whenReady(() => {\n    this._init(el, opts);\n  });\n}\n\ncolorPicker.prototype = {\n  constructor: colorPicker,\n\n  watch: function(callback, callImmediately) {\n    this.on(\"color:change\", callback);\n    this._onChange = callback;\n    if (callImmediately) callback(this.color);\n  },\n\n  unwatch: function() {\n    this.off(\"color:change\", this._onChange);\n  },\n\n    /**\n    * @desc Set a callback function for an event\n    * @param {String} eventType The name of the event to listen to, pass \"*\" to listen to all events\n    * @param {Function} callback The watch callback\n  */\n  on: function(eventType, callback) {\n    var events = this._events;\n    (events[eventType] || (events[eventType] = [])).push(callback);\n  },\n\n  /**\n    * @desc Remove a callback function for an event added with on()\n    * @param {String} eventType The name of the event\n    * @param {Function} callback The watch callback to remove from the event\n  */\n  off: function(eventType, callback) {\n    var eventList = this._events[eventType];\n    if (eventList) evenList.splice(eventList.indexOf(callback), 1);\n  },\n\n  /**\n    * @desc Emit an event\n    * @param {String} eventType The name of the event to emit\n    * @param {Object} data data to pass to all the callback functions\n  */\n  emit: function(eventType, data) {\n    var events = this._events;\n    (events[eventType] || []).concat((events[\"*\"] || [])).map((callback) => { callback(data); });\n  },\n\n  _init: function(el, opts) {\n    // If `el` is a string, use it to select an Element, else assume it's an element\n    el = (\"string\" == typeof el) ? document.querySelector(el) : el;\n    // Find the width and height for the UI\n    // If not defined in the options, try the HTML width + height attributes of the wrapper, else default to 320\n    var width = opts.width || parseInt(el.width) || 320;\n    var height = opts.height || parseInt(el.height) || 320;\n\n    var svgRoot = new svg(el, width, height);\n\n    this.el = el;\n    this.svg = svgRoot;\n    // Calculate layout variables\n    var padding = opts.padding + 2 || 6,\n        borderWidth = opts.borderWidth || 0,\n        markerRadius = opts.markerRadius || 8,\n        sliderMargin = opts.sliderMargin || 24,\n        sliderHeight = opts.sliderHeight || markerRadius * 2 + padding * 2 + borderWidth * 2,\n        bodyWidth = Math.min(height - sliderHeight - sliderMargin, width),\n        wheelRadius = bodyWidth / 2 - borderWidth,\n        leftMargin = (width - bodyWidth) / 2;\n    var marker = {\n      r: markerRadius\n    };\n    var borderStyles = {\n      w: borderWidth,\n      color: opts.borderColor || \"#fff\",\n    };\n    // Create UI elements\n    this.ui = [\n      new wheel(svgRoot, {\n        cX: leftMargin + bodyWidth / 2,\n        cY: bodyWidth / 2,\n        r: wheelRadius,\n        rMax: wheelRadius - (markerRadius + padding),\n        marker: marker,\n        border: borderStyles,\n        anticlockwise: opts.anticlockwise\n      }),\n      new slider(svgRoot, {\n        sliderType: \"v\",\n        x: leftMargin + borderWidth,\n        y: bodyWidth + sliderMargin,\n        w: bodyWidth - borderWidth * 2,\n        h: sliderHeight - borderWidth * 2,\n        r: sliderHeight / 2 - borderWidth,\n        marker: marker,\n        border: borderStyles\n      })\n    ];\n    // Whenever the selected color changes, trigger a colorWheel update too\n    this.color.watch(this._update.bind(this), true);\n    // Add handler for mousedown + touchdown events on this element\n    listen(svgRoot.el, [\"mousedown\", \"touchstart\"], this._mouseDown.bind(this));\n  },\n\n  /**\n    * @desc Get the local-space X and Y pointer position from an input event\n    * @param {Event} e A mouse or touch event\n    * @return {Object} x and y coordinates from the top-left of the UI\n    * @access protected\n  */\n  _getLocalPoint: function(e) {\n    // Detect if the event is a touch event by checking if it has the `touches` property\n    // If it is a touch event, use the first touch input\n    var point = e.touches ? e.changedTouches[0] : e,\n        // Get the screen position of the UI\n        rect = this.svg.el.getBoundingClientRect();\n    // Convert the screen-space pointer position to local-space\n    return {\n      x: point.clientX - rect.left,\n      y: point.clientY - rect.top\n    };\n  },\n\n  /**\n    * @desc Handle a pointer input at local-space point (x, y)\n    * @param {Event} e A mouse or touch event\n    * @return {Object} x and y coordinates from the top-left of the UI\n    * @access protected\n  */\n  _handleInput: function(x, y) {\n    // Use the active UI element to handle translating the input to a change in the color\n    this.color.hsv = this._mouseTarget.input(x, y);\n  },\n\n  /**\n    * @desc mousedown event handler\n    * @param {Event} e A mouse or touch event\n    * @access protected\n  */\n  _mouseDown: function(e) {\n    // Get the local-space position of the mouse input\n    var point = this._getLocalPoint(e),\n        x = point.x,\n        y = point.y;\n\n    // Loop through each UI element and check if the point \"hits\" it\n    this.ui.forEach((uiElement) => {\n      // If the element is hit, this means the user has clicked the element and is trying to interact with it\n      if (uiElement.checkHit(x, y)) {\n        // Prevent default event behaviour, like scrolling\n        e.preventDefault();\n        // Set a reference to this colorWheel instance so that the global event handlers know about it\n        activeColorWheel = this;\n        // Set an internal reference to the uiElement being interacted with, for other internal event handlers\n        this._mouseTarget = uiElement;\n        // Emit input start event\n        this.emit(\"input:start\");\n        // Finally, use the position to update the picked color\n        this._handleInput(x, y);\n      }\n    });\n  },\n\n  /**\n    * @desc mousemose event handler\n    * @param {Event} e A mouse or touch event\n    * @access protected\n  */\n  _mouseMove: function(e) {\n    // If there is an active colorWheel (set in _mouseDown) then update the input as the user interacts with it\n    if (this == activeColorWheel) {\n      // Prevent default event behaviour, like scrolling\n      e.preventDefault();\n      // Get the local-space position of the mouse input\n      var point = this._getLocalPoint(e);\n      // Use the position to update the picker color\n      this._handleInput(point.x, point.y);\n    }\n  },\n\n  /**\n    * @desc update the selected color\n    * @param {Object} newValue - the new HSV values\n    * @param {Object} oldValue - the old HSV values\n    * @param {Object} changes - booleans for each HSV channel: true if the new value is different to the old value, else false\n    * @access protected\n  */\n  _update: function(newValue, oldValue, changes, triggerEvents) {\n    var color = this.color;\n    var rgb = color.rgbString;\n    var css = this.css;\n    // Loop through each UI element and update it\n    this.ui.forEach(function (uiElement) {\n      uiElement.update(color, changes);\n    });\n    // Update the stylesheet too\n    for (var selector in css) {\n      var properties = css[selector];\n      for (var prop in properties) {\n        this.stylesheet.setRule(selector, prop, rgb);\n      }\n    }\n    // Call the color change event\n    if (triggerEvents) this.emit(\"color:change\", color);\n  }\n}\n\nmodule.exports = colorPicker;\n\n\n// WEBPACK FOOTER //\n// ./modules/colorPicker.js","import colorPicker from \"modules/colorPicker\";\nimport color from \"modules/color\";\nimport stylesheet from \"modules/stylesheet\";\n\nmodule.exports = {\n  Color: color,\n  ColorPicker: colorPicker,\n  Stylesheet: stylesheet,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./iro.js","import marker from \"ui/marker\";\nimport iroColor from \"modules/color\";\n\n// css class prefix for this element\nvar CLASS_PREFIX = \"iro__slider\";\n\n/**\n    * @constructor slider UI\n  */\nconst slider = function (svg, opts) {\n  var r = opts.r,\n  w = opts.w,\n  h = opts.h,\n  x = opts.x,\n  y = opts.y,\n  borderWidth = opts.border.w;\n\n  // \"range\" limits how far the slider's marker can travel, and where it stops and starts along the X axis\n  opts.range = {\n    min: x + r,\n    max: (x + w) - r,\n    w: w - (r * 2)\n  };\n\n  opts.sliderType = opts.sliderType || \"v\";\n\n  this.type = \"slider\";\n  this._opts = opts;\n\n  var gradient = svg.gradient(\"linear\", {\n    0: {color: \"#000\"},\n    100: {color: \"#fff\"}\n  });\n\n  this._gradient = gradient;\n\n  var radius = r + borderWidth / 2;\n\n  var baseGroup = svg.g({\n    class: CLASS_PREFIX,\n  });\n\n  baseGroup.insert(\"rect\", {\n    class: CLASS_PREFIX + \"__value\",\n    rx: radius,\n    ry: radius,\n    x: x - borderWidth / 2,\n    y: y - borderWidth / 2,\n    width: w + borderWidth,\n    height: h + borderWidth,\n    fill: gradient.url,\n    strokeWidth: borderWidth,\n    stroke: opts.border.color,\n  });\n\n  this.marker = new marker(baseGroup, opts.marker);\n};\n\nslider.prototype = {\n  constructor: slider,\n\n  /**\n    * @desc updates this element to represent a new color value\n    * @param {Object} color - an iroColor object with the new color value\n    * @param {Object} changes - an object that gives a boolean for each HSV channel, indicating whether ot not that channel has changed\n  */\n  update: function(color, changes) {\n    var opts = this._opts;\n    var range = opts.range;\n    var hsv = color.hsv;\n    var hsl = iroColor.hsvToHsl({h: hsv.h, s: hsv.s, v: 100});\n    if (opts.sliderType == \"v\") {\n      if (changes.h || changes.s) {\n        this._gradient.stops[1].setAttrs({stopColor: \"hsl(\" + hsl.h + \",\" + hsl.s + \"%,\" + hsl.l + \"%)\"});\n      }\n      if (changes.v) {\n        var percent = (hsv.v / 100);\n        this.marker.move(range.min + (percent * range.w), opts.y + (opts.h / 2));\n      }\n    }\n  },\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input: function(x, y) {\n    var opts = this._opts;\n    var range = opts.range;\n    var dist = Math.max(Math.min(x, range.max), range.min) - range.min;\n    return {\n      v: Math.round((100 / range.w) * dist),\n    };\n  },\n\n  /**\n    * @desc Check if a point at (x, y) is inside this element\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Boolean} - true if the point is a \"hit\", else false\n  */\n  checkHit: function(x, y) {\n    var opts = this._opts;\n    return (x > opts.x) && (x < opts.x + opts.w) && (y > opts.y) && (y < opts.y + opts.h);\n  }\n\n};\n\nmodule.exports = slider;\n\n\n// WEBPACK FOOTER //\n// ./ui/slider.js","var GRADIENT_INDEX = 0;\nvar GRADIENT_SUFFIX = \"Gradient\";\nvar SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nvar SVG_ATTRIBUTE_SHORTHANDS = {\n  class: \"class\",\n  stroke: \"stroke\",\n  strokeWidth: \"stroke-width\",\n  fill: \"fill\",\n  opacity: \"opacity\",\n  offset: \"offset\",\n  stopColor: \"stop-color\",\n  stopOpacity: \"stop-opacity\",\n};\nvar SVG_TRANSFORM_SHORTHANDS = {\n  translate: \"setTranslate\",\n  scale: \"setScale\",\n  rotate: \"setRotate\"\n};\n// sniff useragent string to check if the user is running IE\nvar IS_IE = /msie|trident/.test(window.navigator.userAgent.toLowerCase());\n\nconst svgElement = function(root, parent, type, attrs) {\n  var el = document.createElementNS(SVG_NAMESPACE, type);\n  this.el = el;\n  this.setAttrs(attrs);\n  (parent.el || parent).appendChild(el);\n  this._root = root;\n  this._svgTransforms = {};\n  this._transformList = el.transform ? el.transform.baseVal : false;\n};\n\nsvgElement.prototype = {\n  constructor: svgElement,\n\n  insert: function(type, attrs) {\n    return new svgElement(this._root, this, type, attrs);\n  },\n\n  g: function(attrs) {\n    return this.insert(\"g\", attrs);\n  },\n\n  arc: function(cx, cy, radius, startAngle, endAngle, attrs) {\n    var largeArcFlag = endAngle - startAngle <= 180 ? 0 : 1;\n    startAngle *= Math.PI / 180;\n    endAngle *= Math.PI / 180;\n    var x1 = cx + radius * Math.cos(endAngle),\n        y1 = cy + radius * Math.sin(endAngle),\n        x2 = cx + radius * Math.cos(startAngle),\n        y2 = cy + radius * Math.sin(startAngle);\n    attrs = attrs || {};\n    attrs.d = [\"M\", x1, y1, \"A\", radius, radius, 0, largeArcFlag, 0, x2, y2].join(\" \");\n    return this.insert(\"path\", attrs);\n  },\n\n  circle: function(cx, cy, radius, attrs) {\n    attrs = attrs || {};\n    attrs.cx = cx;\n    attrs.cy = cy;\n    attrs.r = radius;\n    return this.insert(\"circle\", attrs);\n  },\n\n  setTransform: function(type, args) {\n    if (!IS_IE) {  \n      var transform, transformFn;\n      var svgTransforms = this._svgTransforms;\n      if (!svgTransforms[type]) {\n        transform = this._root.el.createSVGTransform();\n        svgTransforms[type] = transform;\n        this._transformList.appendItem(transform);\n      } else {\n        transform = svgTransforms[type];\n      }\n      transformFn = (type in SVG_TRANSFORM_SHORTHANDS) ? SVG_TRANSFORM_SHORTHANDS[type] : type;\n      transform[transformFn].apply(transform, args);\n    } else {\n      // older internet explorer versions dont implement SVG transforms properly, instead we have to force them\n      this.setAttrs({\"transform\": type + \"(\" + args.join(\", \") + \")\"});\n    }\n  },\n\n  setAttrs (attrs) {\n    for (var attr in attrs) {\n      var name = (attr in SVG_ATTRIBUTE_SHORTHANDS) ? SVG_ATTRIBUTE_SHORTHANDS[attr] : attr;\n      this.el.setAttribute(name, attrs[attr]);\n    }\n  }\n};\n\nconst svgGradient = function(root, type, stops) {\n  var stopElements = [];\n  var gradient = root._defs.insert(type + GRADIENT_SUFFIX, {\n    id: \"iro\" + GRADIENT_SUFFIX + (GRADIENT_INDEX++)\n  });\n  for (var offset in stops) {\n    var stop = stops[offset];\n    stopElements.push(gradient.insert(\"stop\", {\n      offset: offset + \"%\",\n      stopColor: stop.color,\n      stopOpacity: stop.opacity === undefined ? 1 : stop.opacity,\n    }));\n  }\n  this.el = gradient.el;\n  this.url = \"url(#\" + gradient.el.id + \")\";\n  this.stops = stopElements;\n};\n\nconst svgRoot = function(parent, width, height) {\n  svgElement.call(this, this, parent, \"svg\", {width, height, style: \"display:block;overflow:hidden;\"});\n  this._defs = this.insert(\"defs\");\n};\n\nsvgRoot.prototype = Object.create(svgElement.prototype);\nsvgRoot.prototype.constructor = svgRoot;\nsvgRoot.prototype.gradient = function(type, stops) {\n  return new svgGradient(this, type, stops);\n}\n\nmodule.exports = svgRoot;\n\n\n// WEBPACK FOOTER //\n// ./ui/svg.js","import marker from \"ui/marker\";\n\n// css class prefix for this element\nvar CLASS_PREFIX = \"iro__wheel\";\n// Quick references to reused math functions\nvar PI = Math.PI,\n    sqrt = Math.sqrt,\n    abs = Math.abs,\n    round = Math.round;\n\n/**\n  * @constructor hue wheel UI\n*/\nconst wheel = function (svg, opts) {\n  this._opts = opts;\n  this.type = \"wheel\";\n\n  var cY = opts.cY,\n      cX = opts.cX,\n      r = opts.r,\n      border = opts.border;\n\n  var gradient = svg.gradient(\"radial\", {\n    0: {\n      color: \"#fff\"\n    },\n    100: {\n      color:\"#fff\", \n      opacity: 0\n    },\n  });\n\n  var baseGroup = svg.g({\n    class: CLASS_PREFIX,\n  });\n\n  baseGroup.circle(cX, cY, r + border.w / 2, {\n    class: CLASS_PREFIX + \"__border\",\n    fill: \"#fff\",\n    stroke: border.color,\n    strokeWidth: border.w,\n  });\n\n  var ringGroup = baseGroup.g({\n    class: CLASS_PREFIX + \"__hue\",\n    strokeWidth: r,\n    fill: \"none\",\n  });\n\n  for (var hue = 0; hue < 360; hue++) {\n    ringGroup.arc(cX, cY, r / 2, hue, hue + 1.5, {\n      stroke: \"hsl(\" + (opts.anticlockwise ? 360 - hue : hue) + \",100%,50%)\",\n    });\n  }\n\n  baseGroup.circle(cX, cY, r, {\n    class: CLASS_PREFIX + \"__saturation\",\n    fill: gradient.url,\n  });\n\n  this._lightness = baseGroup.circle(cX, cY, r, {\n    class: CLASS_PREFIX + \"__lightness\"\n  });\n\n  this.marker = new marker(baseGroup, opts.marker);\n};\n\nwheel.prototype = {\n  constructor: wheel,\n\n  /**\n    * @desc updates this element to represent a new color value\n    * @param {Object} color - an iroColor object with the new color value\n    * @param {Object} changes - an object that gives a boolean for each HSV channel, indicating whether ot not that channel has changed\n  */\n  update: function(color, changes) {\n    var opts = this._opts;\n    var hsv = color.hsv;\n    // If the V channel has changed, redraw the wheel UI with the new value\n    if (changes.v) {\n      this._lightness.setAttrs({opacity: (1 - hsv.v / 100).toFixed(2) });\n      // this.draw(hsv.v);\n    }\n    // If the H or S channel has changed, move the marker to the right position\n    if (changes.h || changes.s) {\n      // convert the hue value to radians, since we'll use it as an angle\n      var hueAngle = (opts.anticlockwise ? 360 - hsv.h : hsv.h) * (PI / 180);\n      // convert the saturation value to a distance between the center of the ring and the edge\n      var dist = (hsv.s / 100) * opts.rMax;\n      // Move the marker based on the angle and distance\n      this.marker.move(opts.cX + dist * Math.cos(hueAngle), opts.cY + dist * Math.sin(hueAngle));\n    }\n  },\n\n  /**\n    * @desc Takes a point at (x, y) and returns HSV values based on this input -- use this to update a color from mouse input\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Object} - new HSV color values (some channels may be missing)\n  */\n  input: function(x, y) {\n    var opts = this._opts,\n        rangeMax = opts.rMax,\n        _x = opts.cX - x,\n        _y = opts.cY - y;\n\n    var angle = Math.atan2(_y, _x),\n        // Calculate the hue by converting the angle to radians\n        hue = round(angle * (180 / PI)) + 180,\n        // Find the point's distance from the center of the wheel\n        // This is used to show the saturation level\n        dist = Math.min(sqrt(_x * _x + _y * _y), rangeMax);\n\n    \n    hue = (opts.anticlockwise ? 360 - hue : hue);\n\n    // Return just the H and S channels, the wheel element doesn't do anything with the L channel\n    return {\n      h: hue,\n      s: round((100 / rangeMax) * dist)\n    };\n  },\n\n  /**\n    * @desc Check if a point at (x, y) is inside this element\n    * @param {Number} x - point x coordinate\n    * @param {Number} y - point y coordinate\n    * @return {Boolean} - true if the point is a \"hit\", else false\n  */\n  checkHit: function(x, y) {\n    var opts = this._opts;\n\n    // Check if the point is within the hue ring by comparing the point's distance from the centre to the ring's radius\n    // If the distance is smaller than the radius, then we have a hit\n    var dx = abs(x - opts.cX),\n        dy = abs(y - opts.cY);\n    return sqrt(dx * dx + dy * dy) < opts.r;\n  }\n};\n\nmodule.exports = wheel;\n\n\n// WEBPACK FOOTER //\n// ./ui/wheel.js"],"sourceRoot":""}